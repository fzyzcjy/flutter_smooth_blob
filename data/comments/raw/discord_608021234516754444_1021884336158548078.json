{"source": "discord", "metadata": {"channel_id": "608021234516754444", "after": "1021884336158548078", "before": "1025657091169468436"}, "content": {"guild": {"id": "608014603317936148", "name": "flutter", "iconUrl": "https://cdn.discordapp.com/icons/608014603317936148/0ccc662ed5e2e6df807f4d3cde7018e8.png"}, "channel": {"id": "608021234516754444", "type": "GuildTextChat", "categoryId": "818574120342126622", "category": "FOR CONTRIBUTORS", "name": "hackers-framework-\ud83d\udd29", "topic": "For people working on RenderObjects, Elements, and other core parts of the Flutter framework."}, "dateRange": {"after": "2022-09-20T20:43:31.433+00:00", "before": "2022-10-01T06:35:06.322+00:00"}, "messages": [{"id": "1021917668288245772", "type": "Reply", "timestamp": "2022-09-20T22:55:58.432+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Just do not do that \ud83d\ude09 It is like asking \"what if dev use a million of pushLayer today (answer: it will be slow)\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}], "reference": {"messageId": "1021807196272603156", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021917840808362024", "type": "Reply", "timestamp": "2022-09-20T22:56:39.564+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sure! Do you mean https://docs.google.com/document/d/1SFRO8U2toOlAaZ38dsuEU7Wm5fn41wvBCWKiwADqfmw/edit the flutter design doc template?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "{Document Title} (PUBLICLY SHARED)", "url": "https://docs.google.com/document/d/1SFRO8U2toOlAaZ38dsuEU7Wm5fn41wvBCWKiwADqfmw/edit", "timestamp": null, "description": "This is a template for Flutter documents. You can get to it at flutter.dev/go/template. Note: Do NOT use a \u201cgo\u201d link for anything EXCEPT a design doc. Do NOT use it to create a redirect within the site. Do NOT use it for GitHub repos or DartPad instances. The website generates a Design docs p...", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/lzmmt7qEQZbh7ugUrBheRq9A6Ce9c_6omZFgazHWJlU/https/lh5.googleusercontent.com/hlRPbIjdj54SbLNpMq-jxdCnSOOnCOikXZPOAPJlFktvexIwTJs3KhIrov0-3gyw3hdITzmO2-t5pW8%3Dw1200-h630-p", "width": 1200, "height": 630}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}], "reference": {"messageId": "1021807402510716970", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021917907569090641", "type": "Default", "timestamp": "2022-09-20T22:56:55.481+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So I think an ideal solution will not require developers to update their widgets/render objects, and will not break if developers decide to just throw tons of work into a new method they have to implement", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021917931367583814", "type": "Default", "timestamp": "2022-09-20T22:57:01.155+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes, that would be good", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021917995548815420", "type": "Default", "timestamp": "2022-09-20T22:57:16.457+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "not require developers to update their widgets/render objects -> Yes, this solution do not require", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918064721276928", "type": "Default", "timestamp": "2022-09-20T22:57:32.949+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "will not break if developers decide to just throw tons of work into a new method they have to implement -> dev do not implement preemptRaster", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918138276773928", "type": "Default", "timestamp": "2022-09-20T22:57:50.486+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Instead, the API we give is like this:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918398495592519", "type": "Default", "timestamp": "2022-09-20T22:58:52.527+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "No dev will know what is preemptRaster. They only know that, when they want a smooth CircularProgressIndicator, or a smooth ListView scroll, or a smooth opacity animation, they put a special widget into the tree, say, `PreemptCircularProgressIndicator()`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918533053055027", "type": "Default", "timestamp": "2022-09-20T22:59:24.608+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Under the hood, our PreemptCircularProgressIndicator will utilize preemptRaster.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918625873022996", "type": "Default", "timestamp": "2022-09-20T22:59:46.738+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Btw, preemptRaster is *not* a method in RenderObject that everyone needs to implement, unlike layout/paint/... which everyone should impl", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918706621755533", "type": "Default", "timestamp": "2022-09-20T23:00:05.99+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "preemptRaster is like some utility function, that only we flutter *framework* dev need to impl once", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918768307392545", "type": "Default", "timestamp": "2022-09-20T23:00:20.697+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": ">  when they want a smooth CircularProgressIndicator, or a smooth ListView scroll, or a smooth opacity animation\nIsn't that always?", "author": {"id": "126079426076082176", "name": "ping", "discriminator": "0001", "nickname": "ping (pixeltoast)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/126079426076082176/d062eff425b59e64c396b7bc656d8077.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918890294521866", "type": "Default", "timestamp": "2022-09-20T23:00:49.781+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Haha, then maybe make it the default \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918915426795630", "type": "Default", "timestamp": "2022-09-20T23:00:55.773+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Or, maybe add a flag into it", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021918989674369094", "type": "Default", "timestamp": "2022-09-20T23:01:13.475+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "say, `CircularProgressIndicator(preempt: true/false)`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021919185909063761", "type": "Default", "timestamp": "2022-09-20T23:02:00.261+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Anyway I have not think about the details about the *high level* apis inside preemptRender. It may or may not support *arbitrary* widgets. I am thinking about making it run firstly.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021920487183499294", "type": "Default", "timestamp": "2022-09-20T23:07:10.509+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Btw, what are you guy's timezone? I will create a design doc probably within an hour, not sure whether you guys are online or not", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021921192090812448", "type": "Default", "timestamp": "2022-09-20T23:09:58.572+00:00", "timestampEdited": "2022-09-20T23:10:20.236+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Just sharing some experience I've had working on performance: it's very rare to find that applications are blocked on the UI thread, except for 1) incorrectly implemented scrolling 2) lack of isolate usage for data processing. Thus I would be quite skeptical that this sort of change would actually be beneficial to most Flutter developers, and design doc or not there is almost no chance I would be in favor of adding this to the framework.\n\n@dnfield pointed out another case to me, which is that on particularly low end android devices, even simple UIs can jank due to text layout costs. Though I think its also fairly common for these particularly low end devices to have very few cores, or only one or two fast cores - meaning that multithreading may not help much either.\n\nI think the only thing that would cause me to change my mind is a prototype that demonstrated substantially better performance on a real-ish app; that is one that did not intentionally do way too much work.\n\nNot trying to be too discouraging, but I want to make sure that we're on the same page on the expectations for a feature like this.", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}]}, {"id": "1021921345145147392", "type": "Default", "timestamp": "2022-09-20T23:10:35.063+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> it's very rare to find that applications are blocked on the UI thread,\nMe \ud83d\ude26 Quite complex UI, on very low end devices", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021921455816048681", "type": "Default", "timestamp": "2022-09-20T23:11:01.449+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I understand that, but then every time I get source code access, its always 1) or 2).", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021921571339784193", "type": "Default", "timestamp": "2022-09-20T23:11:28.992+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "not saying that you're wrong, just that I'm not willing to take anyone at their word for this. I want to see the example code", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021921790752206859", "type": "Default", "timestamp": "2022-09-20T23:12:21.304+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(Sorry you already mentioned that example)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021921827733389322", "type": "Default", "timestamp": "2022-09-20T23:12:30.121+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(wait a minute I first read all messages)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922041307340880", "type": "Default", "timestamp": "2022-09-20T23:13:21.041+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> Though I think its also fairly common for these particularly low end devices to have very few cores, or only one or two fast cores - meaning that multithreading may not help much either.\nMy suggestion is not multithreading, it is still single thread \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922205292056706", "type": "Default", "timestamp": "2022-09-20T23:14:00.138+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I might be mixing this up with the other github issue on a separate animation thread", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922220026626098", "type": "Default", "timestamp": "2022-09-20T23:14:03.651+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> I think the only thing that would cause me to change my mind is a prototype that demonstrated substantially better performance on a real-ish app; that is one that did not intentionally do way too much work.\n@Jsouliang @Nayuta I think their `keframe` has demonstrated some real cases where it boosts performance. I will find an article. Wait for a minute", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "840126665828859904", "name": "Nayuta", "discriminator": "9305", "nickname": "Nayuta", "isBot": false}, {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "isBot": false}]}, {"id": "1021922313995812875", "type": "Default", "timestamp": "2022-09-20T23:14:26.055+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "A document would be a good place to start then \ud83d\ude42", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922367812943872", "type": "Default", "timestamp": "2022-09-20T23:14:38.886+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://github.com/LianjiaTech/keframe", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "GitHub - LianjiaTech/keframe: Components that optimize Flutter flue...", "url": "https://github.com/LianjiaTech/keframe", "timestamp": null, "description": "Components that optimize Flutter fluency.\uff08Flutter \u6d41\u7545\u5ea6\u4f18\u5316\u7684\u901a\u7528\u65b9\u6848\uff0c\u8f7b\u677e\u89e3\u51b3\u5361\u987f\u95ee\u9898\uff09 - GitHub - LianjiaTech/keframe: Components that optimize Flutter fluency.\uff08Flutter \u6d41\u7545\u5ea6\u4f18\u5316\u7684\u901a\u7528\u65b9\u6848\uff0c\u8f7b\u677e\u89e3\u51b3\u5361\u987f\u95ee\u9898\uff09", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/up5irv75IPr-umBDd6twfgCVbXY4NJNt4iQPxXL-zWE/https/opengraph.githubassets.com/ea8db0f02fec9ebd005290de73dfd19d7476288782c93428a4d59edc54ff261a/LianjiaTech/keframe", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922410418675783", "type": "Default", "timestamp": "2022-09-20T23:14:49.044+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The readme explains a bit", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922490622152774", "type": "Default", "timestamp": "2022-09-20T23:15:08.166+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "They also use it in LianJia app IIRC, a somewhat large company", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922545705951322", "type": "Default", "timestamp": "2022-09-20T23:15:21.299+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "And in Bytedance, they said they have done sth similar to optimize", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922594917732433", "type": "Default", "timestamp": "2022-09-20T23:15:33.032+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "so I guess these are evidence of optimization of speed in real world", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922677595840543", "type": "Default", "timestamp": "2022-09-20T23:15:52.744+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://github.com/flutter/flutter/issues/101227#issuecomment-1247545240 Yes, we [people in bytedance] all farmilar with KeFrame and has already applied some optimize like it.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "(Willing to contribute PRs) Let Flutter run animations at 60fps eve...", "url": "https://github.com/flutter/flutter/issues/101227", "timestamp": null, "description": "Below (folded) are the initial proposal. However, I have realized the initial proposal has many drawbacks, and have raised new proposals. For example, the dual isolate (click to view that comment)....", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-1.discordapp.net/external/-o7iMjLlTJ-c3uhvVTJ8_uQ58-qpY6Db98VYXrnR8ZU/https/opengraph.githubassets.com/c34d35b188d7afa87e5fe2314fe45a096adc2270e0c008ce0b704afcd4f4ad05/flutter/flutter/issues/101227", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922765315526656", "type": "Default", "timestamp": "2022-09-20T23:16:13.658+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Note that my solution is quite diff from keframe.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922858630385744", "type": "Default", "timestamp": "2022-09-20T23:16:35.906+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If your solution is quite different, definitely write up a doc", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922877018226709", "type": "Default", "timestamp": "2022-09-20T23:16:40.29+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The only similarity is that, we both want to address the less-than-60fps jank", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021922909763145809", "type": "Reply", "timestamp": "2022-09-20T23:16:48.097+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sure! I will do that in an hour", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021922858630385744", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021922983322857553", "type": "Default", "timestamp": "2022-09-20T23:17:05.635+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Btw there is a brief (1-page) proposal currently: https://github.com/flutter/flutter/issues/101227#issuecomment-1252379787", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "(Willing to contribute PRs) Let Flutter run animations at 60fps eve...", "url": "https://github.com/flutter/flutter/issues/101227", "timestamp": null, "description": "Below (folded) are the initial proposal. However, I have realized the initial proposal has many drawbacks, and have raised new proposals. For example, the dual isolate (click to view that comment)....", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-1.discordapp.net/external/-o7iMjLlTJ-c3uhvVTJ8_uQ58-qpY6Db98VYXrnR8ZU/https/opengraph.githubassets.com/c34d35b188d7afa87e5fe2314fe45a096adc2270e0c008ce0b704afcd4f4ad05/flutter/flutter/issues/101227", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021923104173334548", "type": "Default", "timestamp": "2022-09-20T23:17:34.448+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I thought that was the dual isolates/multithreading idea?", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021923234494566463", "type": "Default", "timestamp": "2022-09-20T23:18:05.519+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Nonono", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021923275145744394", "type": "Default", "timestamp": "2022-09-20T23:18:15.211+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I have removed dual isolates and multithreading or coroutine \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021923312353427526", "type": "Default", "timestamp": "2022-09-20T23:18:24.082+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Now look at the biggest fig in that comment", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021923333434003567", "type": "Default", "timestamp": "2022-09-20T23:18:29.108+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it is nothing but NORMAL function calls", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021923506537107487", "type": "Default", "timestamp": "2022-09-20T23:19:10.379+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Btw, `keframe` has popularity of `93%` with 100+ likes in pub https://pub.dev/packages/keframe", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "keframe | Flutter Package", "url": "https://pub.dev/packages/keframe", "timestamp": null, "description": "Helps you improve the fluency of Flutter's app for any scenario", "thumbnail": {"url": "https://images-ext-1.discordapp.net/external/qfKjGnAAmbJOKbZrwcRtFxtjKO-sQmxNNlk9ce7wV_4/https/pub.dev/static/hash-qr9i96gp/img/pub-dev-icon-cover-image.png", "width": 1280, "height": 640}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021923580948258856", "type": "Default", "timestamp": "2022-09-20T23:19:28.12+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If nobody is facing build/layout jank, I guess it should not be a popular lib at all \ud83d\ude09", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021923680202268762", "type": "Default", "timestamp": "2022-09-20T23:19:51.784+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "keframe has some hard-to-overcome shortcomings, but it is still already *this* popoular", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021924577791717408", "type": "Default", "timestamp": "2022-09-20T23:23:25.786+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "most popular packages don't get folded into the SDK", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021925175878484070", "type": "Default", "timestamp": "2022-09-20T23:25:48.381+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@fzyzcjy I would second @dnfield 's recommendation to write a doc. Most of us are going to have trouble following a github issue with dozens of comments, and we're not sure which parts of the proposal are still valid and which aren't", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}, {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}]}, {"id": "1021926433997733928", "type": "Reply", "timestamp": "2022-09-20T23:30:48.34+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "93% isn't actually as popular as it sounds; there are enough packages uploaded now that the percentage can be somewhat misleading. That puts it at something like 2000th.", "author": {"id": "608044959161122855", "name": "stuartmorgan", "discriminator": "4599", "nickname": "stuartmorgan", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/608044959161122855/fd9972ef9503cc8b9b7a0653c65bc17a.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1021923680202268762", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021928405853294602", "type": "Default", "timestamp": "2022-09-20T23:38:38.467+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> most popular packages don't get folded into the SDK\nSure, I know that \ud83d\ude42 I just want to say \"there do exist real-world cases who needs to be extra smooth\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021928436517838969", "type": "Default", "timestamp": "2022-09-20T23:38:45.778+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> Most of us are going to have trouble following a github issue with dozens of comments, and we're not sure which parts of the proposal are still valid and which aren't", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021928474002346024", "type": "Default", "timestamp": "2022-09-20T23:38:54.715+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see, just ate and now start writing", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021928515320430643", "type": "Default", "timestamp": "2022-09-20T23:39:04.566+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> 93% isn't actually as popular as it sounds; there are enough packages uploaded now that the percentage can be somewhat misleading. That puts it at something like 2000th.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021928545339048021", "type": "Default", "timestamp": "2022-09-20T23:39:11.723+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Did not know that before \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021928729800347648", "type": "Default", "timestamp": "2022-09-20T23:39:55.702+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But anyway, hopefully my comments above already show realworld cases: The bytedance and the lianjia. Especially bytedance (IIRC it is even on flutter.dev frontpage?).", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021934264704573471", "type": "Default", "timestamp": "2022-09-21T00:01:55.326+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I understand that this technique has been successful for bytedance and others, I'm not disputing or disagreeing with this. But adding something to the SDK, especially if it is a large intrusive change, is going to be held to the standard of whether it will be successful for all or most users of Flutter today. To evaluate this, we'll need _at least_ a design doc, so we can understand the change you're trying to make. Ideally we would also have some sort of prototype, so that we can understand the behavioral changes, if any, required.", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021935139879665724", "type": "Default", "timestamp": "2022-09-21T00:05:23.984+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "\"large intrusive change\" - I am trying to make it small \ud83d\ude42\n\"we'll need at least a design doc\" - writing! https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit# (surely not finished yet though)\n\" Ideally we would also have some sort of prototype, so that we can understand the behavioral changes, if any, required.\" - I also want to do that", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Preemption for 60 FPS (PUBLICLY SHARED)", "url": "https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit", "timestamp": null, "description": "SUMMARY Use preemption to achieve 60 FPS, no matter how heavy the widgets are when build/layout.  Author: Jingyi Chen (fzyzcjy) Go Link: flutter.dev/go/{document-title} Created: 09/22   /  Last updated: 09/22 WHAT PROBLEM IS THIS SOLVING? Many people face a jank for Flutter applications, because...", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/WfdOwm6F8iJvcVXJmMFpElDAuDcJ7F1jF7O2bKyaOwQ/https/lh4.googleusercontent.com/kIf3Yz1PCMWZmacq_NtplS5AgI0GFoAI2tMlbi5Vob9qFE3Rd1YnZ9doiRvjO-T0AW-MiUHd7VG8bOQ%3Dw1200-h630-p", "width": 1200, "height": 630}, "images": [], "fields": []}], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\udc4d", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f44d.svg"}, "count": 1}], "mentions": []}, {"id": "1021935177766797353", "type": "Default", "timestamp": "2022-09-21T00:05:33.017+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Will ping here when finish writing", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021936142834225223", "type": "Default", "timestamp": "2022-09-21T00:09:23.107+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Thank you!", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\ude00", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f600.svg"}, "count": 1}], "mentions": []}, {"id": "1021938725619511336", "type": "Default", "timestamp": "2022-09-21T00:19:38.891+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "You are welcome!", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021949519459528755", "type": "Default", "timestamp": "2022-09-21T01:02:32.343+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit?usp=sharing is ready", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Preemption for 60 FPS (PUBLICLY SHARED)", "url": "https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit?usp=sharing", "timestamp": null, "description": "SUMMARY Use preemption to achieve 60 FPS, no matter how heavy the widgets are when build/layout.  Author: Jingyi Chen (fzyzcjy) Go Link: flutter.dev/go/{document-title} Created: 09/22   /  Last updated: 09/22 WHAT PROBLEM IS THIS SOLVING? Many people face a jank for Flutter applications, because...", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/WfdOwm6F8iJvcVXJmMFpElDAuDcJ7F1jF7O2bKyaOwQ/https/lh4.googleusercontent.com/kIf3Yz1PCMWZmacq_NtplS5AgI0GFoAI2tMlbi5Vob9qFE3Rd1YnZ9doiRvjO-T0AW-MiUHd7VG8bOQ%3Dw1200-h630-p", "width": 1200, "height": 630}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021949801761357874", "type": "Default", "timestamp": "2022-09-21T01:03:39.649+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams @dnfield (who said I should provide a doc)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}, {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}]}, {"id": "1021960815567454258", "type": "Default", "timestamp": "2022-09-21T01:47:25.545+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Thanks @fzyzcjy , I left some comments in the doc which I see you've responded to. In general, my feedback is that I don't see how some parts of your proposal would actually work in practice. Re-using the previous frame and yielding during layout may break many fundamental assumptions we've made throughout the framework, and without a runnable example/prototype I don't think we're going to be able to understand the trade-offs you're making.\n\nI'd also add that I don't think you need new engine APIS for this.", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}]}, {"id": "1021961588355371110", "type": "Default", "timestamp": "2022-09-21T01:50:29.792+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams Hi thanks for the suggestions!\n> I don't think you need new engine APIS for this.\nI am worried about this. FlutterView.render says:\n>   /// If this function is called a second time during a single\n>   /// [PlatformDispatcher.onBeginFrame]/[PlatformDispatcher.onDrawFrame]\n>   /// callback sequence or called outside the scope of those callbacks, the call\n>   /// will be ignored.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}]}, {"id": "1021961676532236388", "type": "Default", "timestamp": "2022-09-21T01:50:50.815+00:00", "timestampEdited": "2022-09-21T01:51:03.361+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "So in our case it will be ignored. We have to change the engine...", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021961831218159657", "type": "Default", "timestamp": "2022-09-21T01:51:27.695+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that is pretty fundamental", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021961855054389268", "type": "Default", "timestamp": "2022-09-21T01:51:33.378+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "you can only submit a single frame in a vsync", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021961863724007464", "type": "Default", "timestamp": "2022-09-21T01:51:35.445+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> without a runnable example/prototype I don't think we're going to be able to understand the trade-offs you're making.\nI will try to do so today", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021961880987762761", "type": "Default", "timestamp": "2022-09-21T01:51:39.561+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "otherwise you're just doing extra work", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021961946301464587", "type": "Default", "timestamp": "2022-09-21T01:51:55.133+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "you'd have to submit a frame with you pre-empted frame, and then schedule a new frame to continue running", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021962009870344212", "type": "Default", "timestamp": "2022-09-21T01:52:10.289+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I think you'd want that approach anyway.", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021962033492656180", "type": "Reply", "timestamp": "2022-09-21T01:52:15.921+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes, only one in single vsync. But when the main code is very slow (say 10 frames to build/layout/paint/...), we want to respond to 2nd 3rd ... vsync", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021961855054389268", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021962093332803615", "type": "Default", "timestamp": "2022-09-21T01:52:30.188+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So engine has to be modified IMHO", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021962350917591151", "type": "Default", "timestamp": "2022-09-21T01:53:31.601+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I am not an expert in engine TBH (never did such big changes before!), but I will try my best to prototype it.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021962694091350057", "type": "Default", "timestamp": "2022-09-21T01:54:53.42+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "That is a very substantial change. What is the advantage to that approach over scheduling a new frame after the preemption?", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021963163702415360", "type": "Default", "timestamp": "2022-09-21T01:56:45.384+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sorry not quite get it. If we schedule a new frame, and vsync comes, what should we do? We cannot call Flutter's onDrawFrame definitely, because Flutter is still busy doing build/layout/... of the first frame.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021963804747255929", "type": "Default", "timestamp": "2022-09-21T01:59:18.221+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So backing up a bit, you're not really pre-empting in the way I thought you were. My idea was something like:\n\n* Start drawing a frame\n* Exceed threshold\n* Submit frame\n* Schedule new frame with some metadata that allows continuation.\n* Repeat\n\nThen your idea is more like:\n\n* Start drawing a frame\n* Exceed threshold\n* Submit frame\n* Continue building\n* Submit frame\n* Finish building\n\nIs that correct?", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021964564876775464", "type": "Default", "timestamp": "2022-09-21T02:02:19.45+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes!", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021964603204304956", "type": "Default", "timestamp": "2022-09-21T02:02:28.588+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "That is why I have zero overhead for suspending the layout phase", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021965008751566888", "type": "Default", "timestamp": "2022-09-21T02:04:05.278+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "\"with some metadata that allows continuation\" - that seems to be the approach that was discussed in Jan 2022 by @Hixie etc, and discussed again in May (?) 2022 by bytedance people, and discussed again by me in github. I am writing comparison about it in google doc now (WIP), under the title\"Compared with modify-the-layout-function methods\".", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}]}, {"id": "1021965174703403038", "type": "Default", "timestamp": "2022-09-21T02:04:44.844+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "one disadvantage of not yielding is that I don't think you'll receive input events. i.e. you start a page transition, start janking and then the user cancels. How do you avoid just continuing the animation?\n\nAt least if you yield, you could receive input events and run event handlers", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021965288813625434", "type": "Default", "timestamp": "2022-09-21T02:05:12.05+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Please have a look at `preemptHandleTouchEvents`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021965367934988378", "type": "Default", "timestamp": "2022-09-21T02:05:30.914+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The preempt-aware special widgets will do that. For example, see \"scrolling ListView\" example. The scrolling will be 60fps.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021965808668246039", "type": "Default", "timestamp": "2022-09-21T02:07:15.993+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "You're going to end up rebuilding widgets recursively from within layout of a layer tree. I'm not really sure if that would work.", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021965914293407786", "type": "Default", "timestamp": "2022-09-21T02:07:41.176+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I guess have pre-emption you can yield from layout, handle events, and then go back?", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966043486363668", "type": "Default", "timestamp": "2022-09-21T02:08:11.978+00:00", "timestampEdited": "2022-09-21T02:08:20.226+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "But TBH that seems a lot more complicated than using the existing drawFrame APIs and scheduling new tasks.", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966338601783358", "type": "Default", "timestamp": "2022-09-21T02:09:22.339+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and preemptHandleTouchEvents isn't sufficient, because you need to account for the existing gesture areas, otherwise event behavior may change between non pre-empted and pre-empted rendering", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966535557922857", "type": "Default", "timestamp": "2022-09-21T02:10:09.297+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> rebuilding widgets recursively from within layout of a layer tree\nWell no? I will just grab the layer tree and send to raster thread, without touching RenderObject, let alone element or widget", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966554470027304", "type": "Default", "timestamp": "2022-09-21T02:10:13.806+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I think if you broke it down so that each pre-emption behaved like a regular flutter frame though, it might work", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966601504952320", "type": "Default", "timestamp": "2022-09-21T02:10:25.02+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but then you might as well just schedule a frame", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966650016284713", "type": "Default", "timestamp": "2022-09-21T02:10:36.586+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but event handlers can setState", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966860775850054", "type": "Default", "timestamp": "2022-09-21T02:11:26.835+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> and preemptHandleTouchEvents isn't sufficient, because you need to account for the existing gesture areas, otherwise event behavior may change between non pre-empted and pre-empted rendering\nIt is just for simple things like \"shifting a listview\". For normal gestures, let it be done in normal frame pipeline. In other words, suppose it takes 1s to run a full pipeline, then the ListView will see all touch events during this 1s.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966932267782295", "type": "Default", "timestamp": "2022-09-21T02:11:43.88+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "No, you can't create a distinct pre-empty only set of gestures", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021966959698513950", "type": "Default", "timestamp": "2022-09-21T02:11:50.42+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The preemptHandleTouchEvents will see events in each of 60fps frame, but that is like \"secretly peeking at it\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967005055733872", "type": "Default", "timestamp": "2022-09-21T02:12:01.234+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "you'll get different behavior between pre epmted and non pre-empted rendering", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967036492034108", "type": "Default", "timestamp": "2022-09-21T02:12:08.729+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "you have to go through the full event dispatch for correctness", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967109279981578", "type": "Default", "timestamp": "2022-09-21T02:12:26.083+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> each pre-emption behaved like a regular flutter frame though, it might work\nI am worried about that, b/c we will be build/layout a whole tree, inside the middle of build/layout a whole tree", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967141920067674", "type": "Default", "timestamp": "2022-09-21T02:12:33.865+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "consider the case where a ListView is behind something like a pointer interceptor", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967256730730516", "type": "Default", "timestamp": "2022-09-21T02:13:01.238+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "you don't want the listview to get scroll events in pre-empted frames because the pointer interceptor isn't aware of the pre-empt behavior", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967276943085710", "type": "Default", "timestamp": "2022-09-21T02:13:06.057+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> consider the case where a ListView is behind something like a pointer interceptor\nThat's why preemptHandleTouchEvents is for *animations*, not general-purpose", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967475107188847", "type": "Default", "timestamp": "2022-09-21T02:13:53.303+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Users may set a preempt handler in this case, specifying it not to scroll", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967612315451492", "type": "Default", "timestamp": "2022-09-21T02:14:26.016+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "It is like how React Fiber does things", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967656401768518", "type": "Default", "timestamp": "2022-09-21T02:14:36.527+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "With fiber, JS animation still jank. Only css animation is smooth", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967730087297086", "type": "Default", "timestamp": "2022-09-21T02:14:54.095+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "React does not have a layout or paint phase, and ultimately works much different from flutter", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967759833309184", "type": "Default", "timestamp": "2022-09-21T02:15:01.187+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "preemptHandleTouchEvents and its brothers are like \"css animation\" - another thing, parallel to traditional flutter widgets etc", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967844306595890", "type": "Default", "timestamp": "2022-09-21T02:15:21.327+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i.e. React essentially yields during the equivalent of build", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021967848710606921", "type": "Reply", "timestamp": "2022-09-21T02:15:22.377+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sure, I am just analogy \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021967730087297086", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021967986602553374", "type": "Default", "timestamp": "2022-09-21T02:15:55.253+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I am analogy about the framework users' feeling: They have to write down something different (CSS instead of JS) for smooth animation.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968036602847282", "type": "Default", "timestamp": "2022-09-21T02:16:07.174+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Introducing a different set of event handlers, that may only fire sometimes during scrolling, is not a reasonable change IMO", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968063421231186", "type": "Default", "timestamp": "2022-09-21T02:16:13.568+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it will be too hard for users to predict the behavior", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968071356858419", "type": "Default", "timestamp": "2022-09-21T02:16:15.46+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Anyway for standard cases, such as ListView scrolling, or any animation that requires one DisplayListLayer, we can embed into framework", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968561440292864", "type": "Reply", "timestamp": "2022-09-21T02:18:12.305+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Hmm", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021968063421231186", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021968602678702151", "type": "Default", "timestamp": "2022-09-21T02:18:22.137+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So what solution do you think?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968714339467294", "type": "Default", "timestamp": "2022-09-21T02:18:48.759+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "adjust your design \ud83d\ude42", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968757003931679", "type": "Default", "timestamp": "2022-09-21T02:18:58.931+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "you are essentially proposing a new, Flutter-like framework", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968788729639014", "type": "Default", "timestamp": "2022-09-21T02:19:06.495+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "which, maybe that is the right thing for your use-case", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968856408928257", "type": "Default", "timestamp": "2022-09-21T02:19:22.631+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "We cannot run hitTest for not-yet-layout widgets I guess", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021968883231494205", "type": "Reply", "timestamp": "2022-09-21T02:19:29.026+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "What?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021968757003931679", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021969027783983235", "type": "Reply", "timestamp": "2022-09-21T02:20:03.49+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Well I am considering the general use case: Loading indicator, scrolling ListView, enter page transition. Isn't that many people needs \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021968788729639014", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021969047916658758", "type": "Default", "timestamp": "2022-09-21T02:20:08.29+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "event handling is pretty core to how the framework behaves. not that we can't adjust the behavior, but what you are describing sounds like a huge departure.", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969206163546142", "type": "Default", "timestamp": "2022-09-21T02:20:46.019+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and, if you are seriously dropping frames on the UI side of things with those examples, you will also drop raster frames", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969225746751528", "type": "Default", "timestamp": "2022-09-21T02:20:50.688+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Indeed for my own case, I have heavy rasterize. But I do not propose PRs about this, since I guess few people have my own case", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969267509444651", "type": "Default", "timestamp": "2022-09-21T02:21:00.645+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "so that may not help reduce the perception of jank", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969418911227934", "type": "Reply", "timestamp": "2022-09-21T02:21:36.742+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sorry I do not quite get it. I send layer tree to rasterizer at 60fps, so no jank?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021969206163546142", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021969445087879209", "type": "Reply", "timestamp": "2022-09-21T02:21:42.983+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021969047916658758", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021969480093552742", "type": "Default", "timestamp": "2022-09-21T02:21:51.329+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "no, because each layer tree also has to be rasterized and then submitted", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969517427052624", "type": "Default", "timestamp": "2022-09-21T02:22:00.23+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and that requires work on the engine side and then the GPU", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969530571997234", "type": "Default", "timestamp": "2022-09-21T02:22:03.364+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "which can also jank", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969550171975740", "type": "Reply", "timestamp": "2022-09-21T02:22:08.037+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I think the React generator the VirtualDom Tree and Diff VDomTree will cost too long time, so in React18 it use a Fiber to interrupt the process if a  recursion level is too deep", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021967730087297086", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021969559491711107", "type": "Default", "timestamp": "2022-09-21T02:22:10.259+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "You mean rastierzed at ui thread or raster thread?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969601468317757", "type": "Default", "timestamp": "2022-09-21T02:22:20.267+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "raster thread", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969675539730452", "type": "Default", "timestamp": "2022-09-21T02:22:37.927+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "\"raster thread runs too slow that it causes visual jank\" is not addressed in this proposal indeed.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969700973977690", "type": "Default", "timestamp": "2022-09-21T02:22:43.991+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "That may be a separate proposal", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021969874370707538", "type": "Reply", "timestamp": "2022-09-21T02:23:25.332+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes I am not analogy to that specific algorithm, just analogy about dev experience.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "isBot": false}], "reference": {"messageId": "1021969550171975740", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021969920545792120", "type": "Reply", "timestamp": "2022-09-21T02:23:36.341+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Which I think is essentially yielding during build, for the Flutter analogy. But Flutter runs layout/paint in the same thread, whereas browsers already have separate threads", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "isBot": false}], "reference": {"messageId": "1021969550171975740", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021970032911200296", "type": "Default", "timestamp": "2022-09-21T02:24:03.131+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes, so my design is not an analogy to fiber when it comes to implementation", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970040238657576", "type": "Default", "timestamp": "2022-09-21T02:24:04.878+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "html is also much more tolerant of half finished UIs....", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970106282147840", "type": "Default", "timestamp": "2022-09-21T02:24:20.624+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Indeed this design very different from fiber \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970149466710026", "type": "Reply", "timestamp": "2022-09-21T02:24:30.92+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But the widget build or layout is run on the UI Thread, if build or layout is cost too long time, it will jank", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021969920545792120", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021970213429854279", "type": "Default", "timestamp": "2022-09-21T02:24:46.17+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes, and this proposal tries to address the problem", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970230689398935", "type": "Default", "timestamp": "2022-09-21T02:24:50.285+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that same like the vdom diff or build in the js thread", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970288327536680", "type": "Default", "timestamp": "2022-09-21T02:25:04.027+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So, currently our problem is, how to handle input events?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970288671457380", "type": "Default", "timestamp": "2022-09-21T02:25:04.109+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i think they are the same issue", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970361677520917", "type": "Default", "timestamp": "2022-09-21T02:25:21.515+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I think you should handle input events by using the regular event handling pipeline", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970389578027100", "type": "Default", "timestamp": "2022-09-21T02:25:28.167+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes that is our goal", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970484746784798", "type": "Default", "timestamp": "2022-09-21T02:25:50.857+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "which requires you to implement this by scheduling new frames instead of allowing multiple submissions from a single frame", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021970663508021318", "type": "Default", "timestamp": "2022-09-21T02:26:33.477+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I am thinking about it - is it possible to do this inside preempt...", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021971446169346098", "type": "Default", "timestamp": "2022-09-21T02:29:40.078+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Is it possible to do like this:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021971585202126888", "type": "Default", "timestamp": "2022-09-21T02:30:13.226+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Do not propagate to ROs that are dirty. Only propagate to those who are clean.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021971597529202750", "type": "Default", "timestamp": "2022-09-21T02:30:16.165+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i.e. call hitTests etc", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021971631859572756", "type": "Default", "timestamp": "2022-09-21T02:30:24.35+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "All done inside the preemptRender.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021971810293645332", "type": "Default", "timestamp": "2022-09-21T02:31:06.892+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams Will we have trouble?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}]}, {"id": "1021971892904669286", "type": "Default", "timestamp": "2022-09-21T02:31:26.588+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "TBH I think you'll have a tremendous amount of trouble", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021971938295418932", "type": "Default", "timestamp": "2022-09-21T02:31:37.41+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "good luck!", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021971960537825280", "type": "Default", "timestamp": "2022-09-21T02:31:42.713+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Ah??", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972064816603157", "type": "Default", "timestamp": "2022-09-21T02:32:07.575+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "For design of event handler, or for the whole proposal?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972086887022633", "type": "Default", "timestamp": "2022-09-21T02:32:12.837+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "whole thing", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972107850170449", "type": "Default", "timestamp": "2022-09-21T02:32:17.835+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Ah", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972304286191717", "type": "Default", "timestamp": "2022-09-21T02:33:04.669+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I would really be interested in a using a prototype", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972329389109319", "type": "Default", "timestamp": "2022-09-21T02:33:10.654+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes I will do that", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972357507723284", "type": "Default", "timestamp": "2022-09-21T02:33:17.358+00:00", "timestampEdited": "2022-09-21T02:33:25.271+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "do you think it is worthwhile to prototype it", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972369704755201", "type": "Default", "timestamp": "2022-09-21T02:33:20.266+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but I am worried this would break in many unexpected ways", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972448373125130", "type": "Default", "timestamp": "2022-09-21T02:33:39.022+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "if it is a meaningless proposal, I will just halt *now*", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972701331599412", "type": "Reply", "timestamp": "2022-09-21T02:34:39.332+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "It depends on what your goal is. If you want to keep exploring this, I don't see any way forward besides building a prototype. I may yet be wrong, or we may learn something from the proposal even if it doesn't get accepted.\n\nBut building a prototype doesn't mean that we're committed to accepting it in the framework or engine", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1021972357507723284", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021972830306455612", "type": "Default", "timestamp": "2022-09-21T02:35:10.082+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "or you may find ways to adjust the proposal to implement it with few or no changes to the framework", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972845724704789", "type": "Default", "timestamp": "2022-09-21T02:35:13.758+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> But building a prototype doesn't mean that we're committed to accepting it in the framework or engine", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021972862703259698", "type": "Default", "timestamp": "2022-09-21T02:35:17.806+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sure I know that", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021974345083527208", "type": "Default", "timestamp": "2022-09-21T02:41:11.233+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams About the event handler problem: In React Fiber example, a programmer has to think about two systems as well - the JS animation system and CSS animation system. They have to think about \"the JS animation is jank while CSS animation runs smoothly\" and collaborate with that. So in our Flutter even handler problem, maybe it is OK for dev to think about \"the ListView  event handler is janky, while the preempt scrolling is smooth\"?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}]}, {"id": "1021974496510492763", "type": "Default", "timestamp": "2022-09-21T02:41:47.336+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "No", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021974538092818453", "type": "Default", "timestamp": "2022-09-21T02:41:57.25+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I mean, maybe", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021974552626081863", "type": "Default", "timestamp": "2022-09-21T02:42:00.715+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but my guess is no", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021974578051956797", "type": "Default", "timestamp": "2022-09-21T02:42:06.777+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Hmm", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021974617700696104", "type": "Default", "timestamp": "2022-09-21T02:42:16.23+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "It is opt-in. If someone hates it just set flag to false.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021974626617786468", "type": "Default", "timestamp": "2022-09-21T02:42:18.356+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "HTML+CSS+JS Is not exactly a high water mark of ease of use", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\udc4f", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f44f.svg"}, "count": 1}], "mentions": []}, {"id": "1021974675049418842", "type": "Default", "timestamp": "2022-09-21T02:42:29.903+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and its not a goal to be as complicated as it can be", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021974850060955729", "type": "Default", "timestamp": "2022-09-21T02:43:11.629+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "because the problem isn't just that \"the ListView  event handler is janky, while the preempt scrolling is smooth\"?, its that the ListView only scrolls when pre-empted because I'm actually expecting the events to be sent to a different event handler", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021974855014436977", "type": "Default", "timestamp": "2022-09-21T02:43:12.81+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I know its limitation and love Flutter (as you can see - I write Flutter code now instead of web code)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021975024002945044", "type": "Default", "timestamp": "2022-09-21T02:43:53.1+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "or consider the case where the listview is literally covered", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021975056567509033", "type": "Default", "timestamp": "2022-09-21T02:44:00.864+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> \"the ListView only scrolls when pre-empted because I'm actually expecting the events to be sent to a different event handler\"\nWhen `preempt: true` they are expecting it to happen maybe?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021975098959351808", "type": "Default", "timestamp": "2022-09-21T02:44:10.971+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "so it wouldn't get events normally because the dispatchEvent code handles that", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021975153095221358", "type": "Reply", "timestamp": "2022-09-21T02:44:23.878+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I will think about thta", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021975024002945044", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021975156383555604", "type": "Default", "timestamp": "2022-09-21T02:44:24.662+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but now suddenly its receiving scroll events?", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021975471514210314", "type": "Reply", "timestamp": "2022-09-21T02:45:39.795+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "With my apologies to @Hixie  \ud83d\ude06", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\ude06", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f606.svg"}, "count": 1}], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1021974626617786468", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021976107408429158", "type": "Default", "timestamp": "2022-09-21T02:48:11.404+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I agree that should never happen", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021976421796696194", "type": "Default", "timestamp": "2022-09-21T02:49:26.36+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Is it possible we let developers manually handle it? Flutter is like a automatic car, but when really needed (for performance), give dev a manual control button?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021976509239545856", "type": "Default", "timestamp": "2022-09-21T02:49:47.208+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "everything is opt in, not opt out", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021976608317378580", "type": "Default", "timestamp": "2022-09-21T02:50:10.83+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If I'm trying to provide a generic ListView like widget, how can I tell within a frame if I am obscured or not?", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021976744095395900", "type": "Default", "timestamp": "2022-09-21T02:50:43.202+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(generally you don't need to handle this, because the hitTest system does for you)", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021976856678912050", "type": "Default", "timestamp": "2022-09-21T02:51:10.044+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Let the dev do the job. For example, suppose we are developing this Discord mobile app. Then I will specify \"it is always visible\" if I am the dev.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021976969040117910", "type": "Default", "timestamp": "2022-09-21T02:51:36.833+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If we are developing docs.google.com I will also specify \"always visible\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977090951761963", "type": "Default", "timestamp": "2022-09-21T02:52:05.899+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Of course, except that it is not the latest route entry - but that case is simple to be built-in", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977148069789696", "type": "Default", "timestamp": "2022-09-21T02:52:19.517+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that means that nothing in the framework will be able to use this", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977225823780914", "type": "Default", "timestamp": "2022-09-21T02:52:38.055+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "That maybe means framework needs to accept a parameter", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977241929916426", "type": "Default", "timestamp": "2022-09-21T02:52:41.895+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "by users", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977281935183913", "type": "Default", "timestamp": "2022-09-21T02:52:51.433+00:00", "timestampEdited": "2022-09-21T02:53:15.167+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "eg. `ListView(prempt: PreemptStrategy?)`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977358347030568", "type": "Default", "timestamp": "2022-09-21T02:53:09.651+00:00", "timestampEdited": "2022-09-21T02:53:23.866+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "where `abstract class PreemptStrategy { bool shouldWeAcceptThatHitTest(); }`. And provide null to disable preempt.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977465264025670", "type": "Default", "timestamp": "2022-09-21T02:53:35.142+00:00", "timestampEdited": "2022-09-21T02:53:51.31+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "I know it is not an automatic car in such cases \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977622487519262", "type": "Default", "timestamp": "2022-09-21T02:54:12.627+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "And, for the enter page transition, and the loading indicator, we even do not need gestures handling", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977662278881332", "type": "Default", "timestamp": "2022-09-21T02:54:22.114+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "you do, because they can be cancelled", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021977799873007626", "type": "Default", "timestamp": "2022-09-21T02:54:54.919+00:00", "timestampEdited": "2022-09-21T02:55:21.225+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "I mean, no extra gesture handling at 60fps. Just normal handling at low fps", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978041062277124", "type": "Default", "timestamp": "2022-09-21T02:55:52.423+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I don't really think it would be OK. You've got a performance improvement that is off by default, and using requires knowing exactly how your layout will look at all times. And nothing in the framework can use it....", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978047118844004", "type": "Default", "timestamp": "2022-09-21T02:55:53.867+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "For example, I tap a button and enter a page. Maybe we do not care that the system cannot respond to my touch *when* the new page is transitioning in (indeed, what gesture will we have there?)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978228262453258", "type": "Default", "timestamp": "2022-09-21T02:56:37.055+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But, when new page is transitioning in, if that transition is, say, 15fps, humans eyes can see it and feel it not good", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978434815131648", "type": "Default", "timestamp": "2022-09-21T02:57:26.301+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "have you looked at how we made the Android ZoomPageTransition faster  (on master currently)? FWIW It was almost entirely raster thread issues", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978490729398272", "type": "Default", "timestamp": "2022-09-21T02:57:39.632+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes I followed that github issue", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978552620552234", "type": "Default", "timestamp": "2022-09-21T02:57:54.388+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "ahh right, I remember you were in the Github review", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978576620363827", "type": "Default", "timestamp": "2022-09-21T02:58:00.11+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "haha", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978657645928448", "type": "Default", "timestamp": "2022-09-21T02:58:19.428+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But when the new page has a ton of widgets, we will face build/layout jank I guess?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978765582143498", "type": "Default", "timestamp": "2022-09-21T02:58:45.162+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "raster slowness is like a separate issue that my current design doc does not address", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978786054549535", "type": "Default", "timestamp": "2022-09-21T02:58:50.043+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "even on the low end android devices I tested, all of the jank was raster jank", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978861120004177", "type": "Default", "timestamp": "2022-09-21T02:59:07.94+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that or GCs, which you will hit even with your system", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021978997028036638", "type": "Default", "timestamp": "2022-09-21T02:59:40.343+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Hmm so you are saying we do not need to optimize build/layout jank?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021979112652410991", "type": "Default", "timestamp": "2022-09-21T03:00:07.91+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jsouliang do you see build/layout jank in your bytedance app? Or are all of them raster jank?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "isBot": false}]}, {"id": "1021979146009727107", "type": "Default", "timestamp": "2022-09-21T03:00:15.863+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Personally speaking my app has build/layout jank as well", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021979260644229140", "type": "Default", "timestamp": "2022-09-21T03:00:43.194+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But given it is not open sourced and I cannot say I am the expert in optimization this may not be a big evidence", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021979417234374707", "type": "Default", "timestamp": "2022-09-21T03:01:20.528+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "text layout can be quite slow", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021979601142034535", "type": "Reply", "timestamp": "2022-09-21T03:02:04.375+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Raster jank we call look forward to impeller to solve it, case most raster thread jank are caused by share compile", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1021979146009727107", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021979726463651880", "type": "Reply", "timestamp": "2022-09-21T03:02:34.254+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes, some UI jank are cased the measure text content", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021979417234374707", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021979750476021850", "type": "Default", "timestamp": "2022-09-21T03:02:39.979+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I wish that were true, some Skia functionality is actually quite slow the way we use it. Clips for example, not slow due to shader compile. Same with ImageFilters", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021979764883456060", "type": "Default", "timestamp": "2022-09-21T03:02:43.414+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that will block the UI Layout", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021979927911858209", "type": "Reply", "timestamp": "2022-09-21T03:03:22.283+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "do you have some idea to optimize the text measure?", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021979750476021850", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021980209798455427", "type": "Default", "timestamp": "2022-09-21T03:04:29.49+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "We've not had any success", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021980251171061790", "type": "Default", "timestamp": "2022-09-21T03:04:39.354+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [{"id": "1021980250357371010", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1021980250357371010/2022-09-21_11.04.19.png", "fileName": "2022-09-21_11.04.19.png", "fileSizeBytes": 84903}, {"id": "1021980250818756618", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1021980250818756618/2022-09-21_11.04.10.png", "fileName": "2022-09-21_11.04.10.png", "fileSizeBytes": 164072}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021980287787352125", "type": "Reply", "timestamp": "2022-09-21T03:04:48.084+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Then maybe my proposal is a bit useful I guess?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021980209798455427", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021980441080758273", "type": "Default", "timestamp": "2022-09-21T03:05:24.632+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If your prototype works and doesn't require Flutter 4.0, then maybe", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021980497649336390", "type": "Default", "timestamp": "2022-09-21T03:05:38.119+00:00", "timestampEdited": "2022-09-21T03:06:13.344+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Haha surely not 4.0 - all user visible API are opt in (and btw Flutter 3.0 has no breaking change)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021980721356754975", "type": "Default", "timestamp": "2022-09-21T03:06:31.455+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "the problem with opt in, is that most folks won't. Similarly, I don't think creating a parallel event handling system is reasonable. I think you will have better luck trying to break apart expensive scenes into multiple frames. But ultimately its your time + resources, so spend them how you see fit", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021980884871680000", "type": "Default", "timestamp": "2022-09-21T03:07:10.44+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> break apart expensive scenes into multiple frames\nI guess that is how hixie, dnfield, bytedance people, and I have tried. No success yet \ud83d\ude26", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021980939838042183", "type": "Default", "timestamp": "2022-09-21T03:07:23.545+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Anyway I will also try on that", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021982672098168923", "type": "Default", "timestamp": "2022-09-21T03:14:16.548+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams Another workaround: What if we throw away support for gesture system in preemptRender?\nWhen scrolling a ListView, it is mainly the inertia the drives the list to move, and seems that human finger speed will not dramatically change during a swipe. Then, if we never support gesture in preemptRender, the following will happen: (1) ListView is scrolled at 60fps, instead of (e.g.) 15fps, so user eyes will not see jank. (2) ListView is responding to user finger at only 15fps, but since this is not a game but just a scrolling, users may not feel it", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}]}, {"id": "1021982752372957266", "type": "Default", "timestamp": "2022-09-21T03:14:35.687+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Now we can by default enable the feature, and no parallel event handling system", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021982864344109116", "type": "Default", "timestamp": "2022-09-21T03:15:02.383+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Btw for the loading indicator and the enter page transition example, already no need for event handling by default", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021983030597926952", "type": "Default", "timestamp": "2022-09-21T03:15:42.021+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I looked at the document, an interesting idea for sure with the synchronous/parallel tree. But I also think it won't be feasible to implement the preemptModifyLayerTree() unless the animation is very simple. The more applicable it is, the more you are just reimplementing the framework.", "author": {"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/180832050163482634/5133e1b862371f5d0dde18e71528b90b.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021983708842037328", "type": "Default", "timestamp": "2022-09-21T03:18:23.727+00:00", "timestampEdited": "2022-09-21T03:19:11.606+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "> But I also think it won't be feasible to implement the preemptModifyLayerTree() unless the animation is very simple. The more applicable it is, the more you are just reimplementing the framework.\nIt already supports the following with simple code, see doc for details:\n* any widgets fit within DisplayListLayer, such as CircularProgressIndicator. Arbitrarily fancy animation goes here, as long as in one DisplayListLayer. Or more generally, if they fit in a leaf subtree.\n* let ListView scroll at 60fps", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021983909887615007", "type": "Default", "timestamp": "2022-09-21T03:19:11.66+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams what's the 'ghost text' ?", "author": {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/824483790226980935/8d76e22dee517cd2d86d106cf9457889.png?size=512"}, "attachments": [{"id": "1021983909887627284", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1021983909887627284/20220921-111837.jpeg", "fileName": "20220921-111837.jpeg", "fileSizeBytes": 217576}], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}]}, {"id": "1021985366049312788", "type": "Default", "timestamp": "2022-09-21T03:24:58.836+00:00", "timestampEdited": "2022-09-21T03:28:19.1+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "@Callum We may integrate with the existing framework and allow a lot of widgets to animate (just a very rough proposal): Indeed what is done in preemptModifyLayerTree is just to modify arbitrary layers, so maybe we can reuse existing framework to arbitrarily render a subtree etc. Not come up with details yet though.\nBut anyway, I guess most people just need a smooth loading indicator, a smooth scrolling listview?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "isBot": false}]}, {"id": "1021985826193813525", "type": "Reply", "timestamp": "2022-09-21T03:26:48.543+00:00", "timestampEdited": "2022-09-21T03:27:02.534+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams So is this proposal looks ok? (repeat here in case the original comment is already so above that it is not read)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021982672098168923", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021986923293724733", "type": "Reply", "timestamp": "2022-09-21T03:31:10.112+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Rendering placeholder text, like a bunch of grey blocks in place of your actual text on first frames or when doing larger transitions", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "isBot": false}], "reference": {"messageId": "1021983909887615007", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021987187870421053", "type": "Reply", "timestamp": "2022-09-21T03:32:13.192+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If the behavior of the framework is changing substantially in pre-empty frames then I think most developers would interpret that as a bug", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1021982672098168923", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021987751710699632", "type": "Reply", "timestamp": "2022-09-21T03:34:27.622+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But I wonder how should we know how many blocks? You know each english letter has different width, and paragraphing is quite hard to guess. If we put wrong number of grey blocks, the UI will be of wrong height. Then, after it gets the real height, all widgets below it (suppose we have a ListView) will jump", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1021986923293724733", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1021987957021868062", "type": "Default", "timestamp": "2022-09-21T03:35:16.572+00:00", "timestampEdited": "2022-09-21T03:36:30.081+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams Well, what about this: It is still the plain old Flutter with (e.g.) 15fps. But we just have some \"magic\" here, such that it automatically generates something as a \"tween\" to have 60fps.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}]}, {"id": "1021988294550110259", "type": "Default", "timestamp": "2022-09-21T03:36:37.045+00:00", "timestampEdited": "2022-09-21T03:36:46.138+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "IIRC, some researches or nvidia has some \"magic\" such that, they input some low resolution low fps frames, and output high resolution high fps frames\nConsider this proposal as such kind of \"tween creator\", then maybe dev will feel it natural", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1021993719337058359", "type": "ThreadCreated", "timestamp": "2022-09-21T03:58:10.415+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Started a thread.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [], "reference": {"messageId": null, "channelId": "1021987751710699632", "guildId": "608014603317936148"}}, {"id": "1022272736648757341", "type": "Default", "timestamp": "2022-09-21T22:26:53.326+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I think we should probably have  a linter that sorts `required` keyword parameters first.  See this screenshot of the api popup in vscode, you have to scroll around and hunt for the signature of itembuilder", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [{"id": "1022272736682324020", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1022272736682324020/Screen_Shot_2022-09-21_at_3.11.03_PM.png", "fileName": "Screen_Shot_2022-09-21_at_3.11.03_PM.png", "fileSizeBytes": 138500}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022276047904981132", "type": "Reply", "timestamp": "2022-09-21T22:40:02.791+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://github.com/dart-lang/linter/issues/3708", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [], "reference": {"messageId": "1022272736648757341", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022282476191756288", "type": "Default", "timestamp": "2022-09-21T23:05:35.414+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams Continuing from the problem of gesture subsystem of the design, here is a mental modal:\n\nSome researchers/nvidia/etc have some \"magic\" such that, they can input some low resolution low fps frames, and output high resolution high fps frames. Consider this proposal as such a kind of \"tween creator\". In other words, originally we have janky rendering (say, 15fps). And now, we add three extra animating frames after each of the 15fps frames, to get a 60fps smooth feeling.\n\n(Copied from updated design doc)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}]}, {"id": "1022285320395444265", "type": "Default", "timestamp": "2022-09-21T23:16:53.525+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I understand the argument you are trying to make but I don't find it convincing. Adding a second gesture system is not reasonable IMO. You should be working on how to eliminate that from your proposal. More time spent discussing with me is not going to help you there", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022285591246815292", "type": "Default", "timestamp": "2022-09-21T23:17:58.101+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> Adding a second gesture system is not reasonable IMO.\nI am proposing to have *no* second gesture system \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022285654723399760", "type": "Default", "timestamp": "2022-09-21T23:18:13.235+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Ok I will update my proposal, reflecting there is no second gesture system at all", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022285676080791633", "type": "Default", "timestamp": "2022-09-21T23:18:18.327+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Forget to do that, sorry", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022286314336428143", "type": "Default", "timestamp": "2022-09-21T23:20:50.499+00:00", "timestampEdited": "2022-09-21T23:20:53.427+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "And I am going to prototype today btw", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022288819921367122", "type": "Default", "timestamp": "2022-09-21T23:30:47.877+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I don't understand the proposal, is it that if `build + layout > 1/60ms`  then capture a continuation of that work, submit a frame to the renderer, and finish the build/layout on the next frame?", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022289152034742292", "type": "Default", "timestamp": "2022-09-21T23:32:07.059+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Jonah Williams Hi I have removed gesture system from the proposal, and also add explanations why that looks reasonable. Mainly change the \"example 2 implementation\" at the bottom of proposal.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}]}, {"id": "1022289260725948536", "type": "Reply", "timestamp": "2022-09-21T23:32:32.973+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "\"on the next frame\" - if it is quite slow, maybe on the next next next frame etc indeed", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022288819921367122", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022289372340564038", "type": "Default", "timestamp": "2022-09-21T23:32:59.584+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "\"capture a continuation of that work\" - Well I do not capture anything. The `preemptRender` is nothing but a normal function call.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022289479584731166", "type": "Default", "timestamp": "2022-09-21T23:33:25.153+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "We just *call* preemptRender, which sends layer tree to raster it, and later when it *returns* we continue doing layout/build", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022289545619845150", "type": "Default", "timestamp": "2022-09-21T23:33:40.897+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "what are you rendering while that work is happening?  a partial representation of the ui or the previous ui?", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022289686045143103", "type": "Default", "timestamp": "2022-09-21T23:34:14.377+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Previous layer tree (given that we preempt at build/layout, no modify to layer tree in current frame). But, we call preemptModifylayerTree, which modifies the layer a little bit for animations", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022289784015700020", "type": "Default", "timestamp": "2022-09-21T23:34:37.735+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "e.g. in listview scrolling example, we call OffsetLayer.offset += 123.45 so content is moved", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022289878379139142", "type": "Default", "timestamp": "2022-09-21T23:35:00.233+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "ahh so, the previous layer, but some effort is made it keep it animating, interesting", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022289946234585098", "type": "Default", "timestamp": "2022-09-21T23:35:16.411+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes, like that", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022289962844037150", "type": "Default", "timestamp": "2022-09-21T23:35:20.371+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Thanks \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022290422132908113", "type": "Default", "timestamp": "2022-09-21T23:37:09.874+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "do you have a profile of those build + layout frames that are going over budget by any chance?", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022290592039964813", "type": "Default", "timestamp": "2022-09-21T23:37:50.383+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I believe it can happen, but my first thought would be that maybe something like synchronous calls that shouldn't be synchronous are happening.", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022291692646318111", "type": "Reply", "timestamp": "2022-09-21T23:42:12.788+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "IIRC some discussions above confirm this jank does happens (especially on low end devices), let me find a link", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022290422132908113", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022291862729527357", "type": "Default", "timestamp": "2022-09-21T23:42:53.339+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Around this comment: https://discord.com/channels/608014603317936148/608021234516754444/1021980287787352125", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022291936884826192", "type": "Default", "timestamp": "2022-09-21T23:43:11.019+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "In short: bytedance people reported jank of build/layout in their real world app", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022292055847862342", "type": "Default", "timestamp": "2022-09-21T23:43:39.382+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I am not bytedance so maybe need to ask them for a profiling data", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022292185225367644", "type": "Default", "timestamp": "2022-09-21T23:44:10.228+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I also see jank in my app, but given that I am not expert in optimization and the app is not open sourced, my words is not that helpful", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022292715221831680", "type": "Reply", "timestamp": "2022-09-21T23:46:16.589+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "A couple of months ago I looked into build/layout performance.  I tried to squeeze as much as I could out of the framework but ran out of ideas.  My understanding from looking into is a lot of jank was shader compilation.  The thing that might be holding back layout / build is locality which will be hard to fix.  But I didn't see a lot of evidence from what I remember that it is worth the investment =T", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1022291692646318111", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022293294773981184", "type": "Default", "timestamp": "2022-09-21T23:48:34.765+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I guess my point is that if you want to propose a solution that fixes long (build + layout) times, we should establish that that is a worthwhile problem to fix backed up with some data.", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022294891805552672", "type": "Reply", "timestamp": "2022-09-21T23:54:55.527+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Thanks I will add a section to design doc. \n\"shader compilation\" - seems that @Jsouliang has mentioned above, they expect Impeller to solve the problem. Personally speaking I am not very sure b/c have not checked into impeller deeply.\n\"might be holding back layout / build is locality\" - could you please elaborate it a bit - Do you mean memory locality that causes page fault etc? Anyway, *any form* of build/layout slowness can be fixed by this proposal, no matter the cause. Even if you just heavily compute synchronously inside initState, this proposal can also fix \ud83d\ude42\n\"I guess my point is that if you want to propose a solution that fixes long (build + layout) times, we should establish that that is a worthwhile problem to fix backed up with some data.\" - I agree. I wonder whether this is enough: @dnfield has gived a pointer, \"A good canonical case here would be something like https://github.com/flutter/flutter/blob/master/dev/benchmarks/macrobenchmarks/lib/src/list_text_layout.dart. This ends up being janky because layout gets expensive for all that text (on a lower end phone it can easily take 20-30+ms just to layout all the text there, and the ListTile is a little deceptive because Material introduces expense - this is the kind of thing we want to figure out how to break up \"automatically\").\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}, {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}, {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "isBot": false}], "reference": {"messageId": "1022292715221831680", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022296432738320454", "type": "Default", "timestamp": "2022-09-22T00:01:02.914+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Oh interesting, I hadn't seen the list text layout benchmark.  WRT heavily computing inside initState shouldn't happen on the isolate, we should be giving users the tools to quickly offload work to a background isolate.  I think flutter/dart can do better there.  With the locality, yea talking about memory locality.  When I ran profiles I saw numbers that couldn't be associated with a single widget.  I suspect it is the recursive nature of crawling down the widget / render trees which jumps all over in memory.  Also Dart doesn't have value types so every single rectangle in layout is an indirection to another location in memory.  The locality thing is my pet theory, I can't prove it though \ud83d\ude1b", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022297458941902888", "type": "Default", "timestamp": "2022-09-22T00:05:07.58+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "also @fzyzcjy you should look into impeller, i haven't run it recently and I don't want to hype it much, but it should make a huge impact.  it's almost not worth looking into jank until after it.  you can turn it on with a flag.", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}]}, {"id": "1022297793555083274", "type": "Default", "timestamp": "2022-09-22T00:06:27.358+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> WRT heavily computing inside initState shouldn't happen on the isolate, we should be giving users the tools to quickly offload work to a background isolate.\nSure, that should be a misuse in most of the time \ud83d\ude42\nBut indeed, sometimes it is sane to do so. For a simple example, you may have a giant tree in main isolate, and have to modify a lot of its nodes. It is hard (or impossible) to send it to another isolate, modify, and go back, otherwise copying is either too slow or even impossible for some types of objects. Anyway that is just a side remark, and my proposal is not designed to solely solve this special case", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022297942452875365", "type": "Default", "timestamp": "2022-09-22T00:07:02.858+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> With the locality, yea talking about memory locality.  When I ran profiles I saw numbers that couldn't be associated with a single widget.  I suspect it is the recursive nature of crawling down the widget / render trees which jumps all over in memory.   Also Dart doesn't have value types so every single rectangle in layout is an indirection to another location in memory.  The locality thing is my pet theory, I can't prove it though \ud83d\ude1b\nI see. So my design should solve it \ud83d\ude1b", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022298136930168852", "type": "Reply", "timestamp": "2022-09-22T00:07:49.225+00:00", "timestampEdited": "2022-09-22T00:07:55.536+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "IMHO impeller is purely about raster thread? (Correct me if I am wrong!) In other words, even if we have impeller, if our *dart* code janks, it still janks just like the old days", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022297458941902888", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022298635632918619", "type": "Reply", "timestamp": "2022-09-22T00:09:48.125+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I can't remember for sure but shader compilation may happen on the platform thread while the raster thread waits for it synchronously.", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1022298136930168852", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022298850918158356", "type": "Default", "timestamp": "2022-09-22T00:10:39.453+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> It is hard (or impossible) to send it to another isolate, modify, and go back, \nYea a couple months ago I tried to come up with a way to get move semantics for sending data between isolates in constant time.  I couldn't find a good proposal that the dart team liked.", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022299041490550815", "type": "Default", "timestamp": "2022-09-22T00:11:24.889+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Isolate.exit does send most data in constant time", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022299102769332305", "type": "Default", "timestamp": "2022-09-22T00:11:39.499+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but that doesn't help for long-lived isolates of course, just `compute`", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022299257744654450", "type": "Reply", "timestamp": "2022-09-22T00:12:16.448+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yeah, but the problem is I have to send data to that new isolate, which is linear. Anyway, that is just a special corner case, and my proposal does not aim to solve it as the main problem", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}], "reference": {"messageId": "1022299041490550815", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022299332751405108", "type": "Default", "timestamp": "2022-09-22T00:12:34.331+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "yea, sorry to digress but it's an interesting problem", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022299348131909742", "type": "Reply", "timestamp": "2022-09-22T00:12:37.998+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see. Btw platform thread is not ui thread IIRC, so ui thread is still ok?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022298635632918619", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022299381879291964", "type": "Reply", "timestamp": "2022-09-22T00:12:46.044+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Haha I also feel it interesting", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022299332751405108", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022299507666456647", "type": "Reply", "timestamp": "2022-09-22T00:13:16.034+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Const time transfering in both side will be quite helpful indeed", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022298850918158356", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022299954825400360", "type": "Reply", "timestamp": "2022-09-22T00:15:02.645+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yea, sorta, but if you are blocking the platform thread you can be blocking events which feels janky.  it really depends on the embedder too what effect it can have.  I'm not saying build/layout isn't a potential issue, but from my having looked into this a couple months ago I think shader compilation was by and far the biggest issue which is good the flutter team is making a big investment there", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1022299348131909742", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022300039516799088", "type": "Default", "timestamp": "2022-09-22T00:15:22.837+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i gotta run, good luck @fzyzcjy nice meeting you", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}]}, {"id": "1022300083997376563", "type": "Default", "timestamp": "2022-09-22T00:15:33.442+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see. Eagerly looking to see impeller be in production as well!", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022300111293906954", "type": "Default", "timestamp": "2022-09-22T00:15:39.95+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@gaaclarke See you \ud83d\ude42 Nice meeting you", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}]}, {"id": "1022300571673305108", "type": "Default", "timestamp": "2022-09-22T00:17:29.713+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Hixie Btw I have replied your questions on google doc (not seeing it just now)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}]}, {"id": "1022321189730910208", "type": "Default", "timestamp": "2022-09-22T01:39:25.441+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Update: The google doc https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit?usp=sharing is updated, most changes are in \"touch event handling system\" and \"comparison\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Preemption for 60 FPS (PUBLICLY SHARED)", "url": "https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit?usp=sharing", "timestamp": null, "description": "SUMMARY Use preemption to achieve 60 FPS, no matter how heavy the widgets are when build/layout.  Author: Jingyi Chen (fzyzcjy) Go Link: flutter.dev/go/{document-title} Created: 09/22   /  Last updated: 09/22 WHAT PROBLEM IS THIS SOLVING? Many people face a jank for Flutter applications, because...", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/WfdOwm6F8iJvcVXJmMFpElDAuDcJ7F1jF7O2bKyaOwQ/https/lh4.googleusercontent.com/kIf3Yz1PCMWZmacq_NtplS5AgI0GFoAI2tMlbi5Vob9qFE3Rd1YnZ9doiRvjO-T0AW-MiUHd7VG8bOQ%3Dw1200-h630-p", "width": 1200, "height": 630}, "images": [], "fields": []}], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\udc4d", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f44d.svg"}, "count": 1}], "mentions": []}, {"id": "1022518983817166868", "type": "Default", "timestamp": "2022-09-22T14:45:23.226+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Update: minimalist API (one widget for everything) + a prototype about framework layer.\n\nNow, developers will only need to insert `PreemptBuilder(builder: (context, child) => whatever_you_like, child: also_free_to_choose)` widget, and that's all. Arbitrary builder, arbitrary child subtree, and smooth 60fps will be there for the builder. The google doc is updated to discuss this - mainly in (1) \"usage examples\" (2) \"From preemptModifyLayerTree to PreemptBuilder\" in \"detailed design\".", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022533843724537968", "type": "Default", "timestamp": "2022-09-22T15:44:26.104+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I would rather think of an API like this would be useful\n```\nSlowSubtree(\n    placeholder: Center(child: CupertinoActivityIndicator())\n    child: MyBigScrollingPage()\n)\n```\nAnd that child could be built over multiple frames. Main use case would be to not frame-drop during page push animation when the new page is complex. Seems like based on `build_owner.0.dart` example it can be possible to build arbitrary subtrees? But would need to modify the build owner in order to yield back and show the placeholder.", "author": {"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/180832050163482634/5133e1b862371f5d0dde18e71528b90b.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022546349926924368", "type": "Default", "timestamp": "2022-09-22T16:34:07.815+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If someone has stackoverflow comment abilities can you please comment on this answer: https://stackoverflow.com/a/64167746/20063373  It assumes that the `builder` for `StreamBuilder` will get called 1-to-1 for the `Stream` events.  So the code will fail depending on the timing of the Stream.  It's kind of a nasty gotcha.", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022550647956062208", "type": "Reply", "timestamp": "2022-09-22T16:51:12.545+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Filed an issue to propose the ability to make `StreamBuilder` lossless since the fail case is too dire imo", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [], "reference": {"messageId": "1022546349926924368", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022560256900993135", "type": "Reply", "timestamp": "2022-09-22T17:29:23.496+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "could you link it please?", "author": {"id": "82789489465888768", "name": "BetoMan0", "discriminator": "8507", "nickname": "BetoMan0", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/82789489465888768/e6f887c909334175beee4451517bea99.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022550647956062208", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022585702728355851", "type": "Reply", "timestamp": "2022-09-22T19:10:30.254+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "oops, sorry https://github.com/flutter/flutter/issues/112197", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [{"title": "Give `StreamBuilder` ability to be lossless \u00b7 Issue #112197 \u00b7 flutt...", "url": "https://github.com/flutter/flutter/issues/112197", "timestamp": null, "description": "The documentation for StreamBuilder clearly states that the builder isn&#39;t called 1-to-1 with the Stream and that its intention is to just display the latest snapshot. However that doesn&...", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/zKXWcFJN-pvzCqeieeljsUXGtC0sYjMEs1XMMBN2-Gw/https/opengraph.githubassets.com/234c0e6fe2e27fe471ae72d02da65642d3185c856e6528dd9ea12ace29b8925c/flutter/flutter/issues/112197", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": [{"id": "82789489465888768", "name": "BetoMan0", "discriminator": "8507", "nickname": "BetoMan0", "isBot": false}], "reference": {"messageId": "1022560256900993135", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022642563573882981", "type": "Reply", "timestamp": "2022-09-22T22:56:26.936+00:00", "timestampEdited": "2022-09-22T23:28:23.922+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "@Callum That would be great, and looks like what the modify-the-build and modify-the-layout will do (see compaison between them and my proposal, in the google doc https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit#)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Preemption for 60 FPS (PUBLICLY SHARED)", "url": "https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit", "timestamp": null, "description": "SUMMARY Use preemption to achieve 60 FPS, no matter how heavy the widgets are when build/layout.  Author: Jingyi Chen (fzyzcjy) Go Link: flutter.dev/go/{document-title} Created: 09/22   /  Last updated: 09/22 WHAT PROBLEM IS THIS SOLVING? Many people face a jank for Flutter applications, because...", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/WfdOwm6F8iJvcVXJmMFpElDAuDcJ7F1jF7O2bKyaOwQ/https/lh4.googleusercontent.com/kIf3Yz1PCMWZmacq_NtplS5AgI0GFoAI2tMlbi5Vob9qFE3Rd1YnZ9doiRvjO-T0AW-MiUHd7VG8bOQ%3Dw1200-h630-p", "width": 1200, "height": 630}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": [{"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "isBot": false}], "reference": {"messageId": "1022533843724537968", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022642805467787375", "type": "Default", "timestamp": "2022-09-22T22:57:24.608+00:00", "timestampEdited": "2022-09-22T22:57:38.445+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "However, the main problem is that, seems not to exist efficient implementable solutions for those ideas (some by googlers, some by bytedancers, some by me). They have either performance problems, or logical problems IIRC. I am also looking forward to see progress on those methods!", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022643311422476379", "type": "Reply", "timestamp": "2022-09-22T22:59:25.237+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Done (under @ch271828n account, also me)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "614570066226184234", "name": "dash", "isAnimated": false, "imageUrl": "https://cdn.discordapp.com/emojis/614570066226184234.png"}, "count": 2}], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022546349926924368", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022862104325259294", "type": "Default", "timestamp": "2022-09-23T13:28:49.53+00:00", "timestampEdited": "2022-09-23T13:29:21.587+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "**Prototype: Enter-new-heavy-page, smoothly even though it takes 0.5s to build/layout**\n\nDefects in the prototype compared to the future full implementation\n\n* The page is so heavy that even paint without the time of build and layout causes a visible jank with PreemptBuilder; in real world should not be that slow (since in real world build/layout does not take 30 frames)\n* Extra frame is driven by simple `DateTime.now` (instead of vsync), so it is not at its best performance\n* Prototype code has not been fully clean up yet\n\nCode\n\ngithub.com/fzyzcjy/flutter/tree/experiment-forest and github.com/fzyzcjy/engine/tree/experiment-smooth (deliberately removed https o/w discord pop up big cards)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022862260735066182", "type": "Default", "timestamp": "2022-09-23T13:29:26.821+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "apk:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022862373742194740", "type": "Default", "timestamp": "2022-09-23T13:29:53.764+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://github.com/flutter/flutter/issues/101227#issuecomment-1256212759 has an attachment (the apk)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "(Willing to contribute PRs) Let Flutter run animations at 60fps eve...", "url": "https://github.com/flutter/flutter/issues/101227", "timestamp": null, "description": "EDIT: Design proposal https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit?usp=sharing Below (folded) are the initial proposal. However, I have realized the initial ...", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-1.discordapp.net/external/hbdUyzb4GRD90Ch1l0lJ-3H_Fclcpu_2lWcrg8y3AJc/https/opengraph.githubassets.com/9561f274cefcfdf8796ce99b44b3bc6344835c6b2f18def73beb1a3c2e59fec7/flutter/flutter/issues/101227", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022862385159090176", "type": "Default", "timestamp": "2022-09-23T13:29:56.486+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "video:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022862437994725436", "type": "Default", "timestamp": "2022-09-23T13:30:09.083+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1022862437382377523", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1022862437382377523/SVID_20220923_211349_1.mp4", "fileName": "SVID_20220923_211349_1.mp4", "fileSizeBytes": 2227411}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022862458798485566", "type": "Default", "timestamp": "2022-09-23T13:30:14.043+00:00", "timestampEdited": "2022-09-23T13:35:20.254+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Firstly the slow (plain old) case, then the fast (using PreemptBuilder) case. The grey circle appears when I touch the screen (by android system recorder).", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022865871166779472", "type": "Default", "timestamp": "2022-09-23T13:43:47.615+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "/cc @Hixie @Jonah Williams @dnfield @gaaclarke @XanaHopper @Nayuta @Jsouliang @SecondFlight who had comments about the design doc (hope I remembered everyone)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "118876142114570240", "name": "SecondFlight", "discriminator": "7948", "nickname": "SecondFlight", "isBot": false}, {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}, {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}, {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}, {"id": "603238633394405377", "name": "XanaHopper", "discriminator": "5803", "nickname": "XanaHopper", "isBot": false}, {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}, {"id": "840126665828859904", "name": "Nayuta", "discriminator": "9305", "nickname": "Nayuta", "isBot": false}, {"id": "824483790226980935", "name": "Jsouliang", "discriminator": "2639", "nickname": "Jsouliang", "isBot": false}]}, {"id": "1022873820358520954", "type": "Default", "timestamp": "2022-09-23T14:15:22.85+00:00", "timestampEdited": "2022-09-23T14:15:26.592+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "I noticed that we're calling it pre-emptive rendering", "author": {"id": "205505233038737408", "name": "Piero512", "discriminator": "7904", "nickname": "Piero512", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/205505233038737408/5042c211f4072531f11afe92c6bae02c.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022873983156228217", "type": "Default", "timestamp": "2022-09-23T14:16:01.664+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but since Flutter is a reactive framework", "author": {"id": "205505233038737408", "name": "Piero512", "discriminator": "7904", "nickname": "Piero512", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/205505233038737408/5042c211f4072531f11afe92c6bae02c.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874018321272944", "type": "Default", "timestamp": "2022-09-23T14:16:10.048+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://reactjs.org/blog/2022/03/29/react-v18.html#gradually-adopting-concurrent-features this is what react is doing", "author": {"id": "205505233038737408", "name": "Piero512", "discriminator": "7904", "nickname": "Piero512", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/205505233038737408/5042c211f4072531f11afe92c6bae02c.png?size=512"}, "attachments": [], "embeds": [{"title": "React v18.0 \u2013 React Blog", "url": "https://reactjs.org/blog/2022/03/29/react-v18.html", "timestamp": null, "description": "React 18 is now available on npm! In our last post, we shared step-by-step instructions for upgrading your app to React 18. In this post, we\u2019ll give an overview of what\u2019s new in React 18, and what it means for the future. Our latest major version includes out-of-the-box improvements like automatic batching, new APIs like startTransition, and str...", "color": "#20232A", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/27bn56naQ6PZnum-nDk8hvuHnoEKwGwQEfPdf96QQB4/https/reactjs.org/logo-og.png", "width": 1200, "height": 630}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874287125835837", "type": "Default", "timestamp": "2022-09-23T14:17:14.136+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Piero512 Not sure which part in the link are you refer to - do you mean Fiber?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "205505233038737408", "name": "Piero512", "discriminator": "7904", "nickname": "Piero512", "isBot": false}]}, {"id": "1022874356654809198", "type": "Default", "timestamp": "2022-09-23T14:17:30.713+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Indeed Fiber is the very beginning: https://github.com/flutter/flutter/issues/101227", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "(Willing to contribute PRs) Let Flutter run animations at 60fps eve...", "url": "https://github.com/flutter/flutter/issues/101227", "timestamp": null, "description": "EDIT: Design proposal https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit?usp=sharing Below (folded) are the initial proposal. However, I have realized the initial ...", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/5udWaMlCgNPOWe2vFtLDtT0fWUvlld6QKngvvlDMBzw/https/opengraph.githubassets.com/ea0fc57155d3b39213752896caffab350b33c8358e1fbba411a6df6276517f2d/flutter/flutter/issues/101227", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874414481690634", "type": "Default", "timestamp": "2022-09-23T14:17:44.5+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But my current solution is indeed quite different from fiber (indeed little similarity)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874663849832530", "type": "Reply", "timestamp": "2022-09-23T14:18:43.954+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it seems to break the specified transition duration, is it expected?", "author": {"id": "270644886758359051", "name": "HrX", "discriminator": "0807", "nickname": "HrX", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/270644886758359051/0f016feea0e96debb413c960136d3315.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1022862437994725436", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1022874707902595173", "type": "Default", "timestamp": "2022-09-23T14:18:54.457+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Break what?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874727938805881", "type": "Default", "timestamp": "2022-09-23T14:18:59.234+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "like, if a transition was meant to be (say) 400ms then that constraint is not respected anymore", "author": {"id": "270644886758359051", "name": "HrX", "discriminator": "0807", "nickname": "HrX", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/270644886758359051/0f016feea0e96debb413c960136d3315.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874762525020322", "type": "Default", "timestamp": "2022-09-23T14:19:07.48+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Should be 400ms", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874774097113139", "type": "Default", "timestamp": "2022-09-23T14:19:10.239+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If not, it is a bug", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874830145585172", "type": "Default", "timestamp": "2022-09-23T14:19:23.602+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "This is prototype indeed, so please bear some bugs \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874850018205779", "type": "Default", "timestamp": "2022-09-23T14:19:28.34+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "hm hm i see", "author": {"id": "270644886758359051", "name": "HrX", "discriminator": "0807", "nickname": "HrX", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/270644886758359051/0f016feea0e96debb413c960136d3315.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874903701094401", "type": "Default", "timestamp": "2022-09-23T14:19:41.139+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "was asking out of curiosity indeed, cuz was wondering if it was expected or no", "author": {"id": "270644886758359051", "name": "HrX", "discriminator": "0807", "nickname": "HrX", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/270644886758359051/0f016feea0e96debb413c960136d3315.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022874961054019605", "type": "Default", "timestamp": "2022-09-23T14:19:54.813+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022875079421481070", "type": "Default", "timestamp": "2022-09-23T14:20:23.034+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Your app should be exactly like what you expect, except that you have extra smooth frames, when using this PreemptBuilder", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1022907305471246456", "type": "Reply", "timestamp": "2022-09-23T16:28:26.323+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "is that dilating the time of the animation?  What is supposed to be the duration of that transition?", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1022865871166779472", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1023007290300833872", "type": "Reply", "timestamp": "2022-09-23T23:05:44.564+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "It looks like a bug in my prototype. I use DateTime.now() everywhere (since this is a prototype), so it is weird that it dilates so much. It should be 0.3s.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1022907305471246456", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1023007451282415687", "type": "Default", "timestamp": "2022-09-23T23:06:22.945+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I will debug it soon", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1023065826078756944", "type": "Default", "timestamp": "2022-09-24T02:58:20.581+00:00", "timestampEdited": "2022-09-24T14:46:14.389+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Btw, I realized that, the video is only <30FPS (even if recording non-flutter apps), so cannot demonstrate the real case... Will change a software.\n\n**Update** (2022.9.24 22:00 @ UTC+8): Given that you guys seem to be on weekend, I will not post details to avoid disturbing. But if you are interested in my today (and tomorrow)'s progress, all my progress can be seen in realtime in the github branches posted above. Have a good weekend! \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1023410732336939129", "type": "Default", "timestamp": "2022-09-25T01:48:52.641+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "**Brief visual update: It runs at ~60fps, while widget build/layout needs ~500ms**\n\nVideo description: (1) The slow (plain-old) case is repeated twice (2) Then the fast (using PreemptBuilder) case is done twice (3) Lastly a debug animation is shown (to be explained below).\n\nHow to verify it is 60fps: I personally use `ffmpeg -i $VIDEO -vsync 0 -frame_pts true -vf drawtext=fontfile=/usr/share/fonts/truetype/freefont/FreeMonoBold.ttf:fontsize=80:text='%{pts}':fontcolor=white@0.8:x=7:y=7 ~/temp/video_frames/output_%04d.jpg` to extract every frame of the video.\n\nP.S. The last section in the video (debug animation) is used to verify the file transfer. If that part is seen janky, then it is probably a problem when transferring the video file etc, since that should definitely be 60FPS.\n\nAs usual, the code is at the GitHub branch mentioned above.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1023411181567868978", "type": "Default", "timestamp": "2022-09-25T01:50:39.746+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://user-images.githubusercontent.com/5236035/192124851-19bae792-ad31-4ae3-8717-8a0821038d00.mp4", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "", "url": "https://user-images.githubusercontent.com/5236035/192124851-19bae792-ad31-4ae3-8717-8a0821038d00.mp4", "timestamp": null, "description": "", "images": [], "fields": []}], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\udc4d", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f44d.svg"}, "count": 1}, {"emoji": {"id": "614570066226184234", "name": "dash", "isAnimated": false, "imageUrl": "https://cdn.discordapp.com/emojis/614570066226184234.png"}, "count": 2}], "mentions": []}, {"id": "1023834043906793552", "type": "Default", "timestamp": "2022-09-26T05:50:57.984+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Brief update in recent experiments: Overhead per frame is medium=0.53ms, p95=0.81ms, p99=1.10ms, on my low-end testing device, for the \"enter-new-screen\" demo. (Indeed it may not be called \"overhead\", since those time are really needed to update data for screen)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1023962436723814412", "type": "Default", "timestamp": "2022-09-26T14:21:09.217+00:00", "timestampEdited": "2022-09-26T14:21:40.501+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Good morning friends! Should I start making the PR?\n@Hixie @Jonah Williams @dnfield @gaaclarke @Callum @ping (googlers who had discussions about this proposal)\n\nThe design doc has been overhauled:\n* Add chapter \"experiments (prototype)\", showing videos, code demos, FPS analysis, and overhead analysis.\n* Add section \"needed code change\", demonstrating what framework and engine code (few) needs to be modified.\n* Overhaul chapter \"comparison\", elaborating the differences.\n\nI want to sincerely say thanks to Flutter. Flutter has saved me months, if not a year, by allowing me to write a single codebase and run on dual platforms (saving half of the time), to use the very productive declarative framework and hot reload, to utilize the quickly-progressing Dart language with expressive and safe type system, to easily customize the appearance as accurate as pixel level, to be able to dig down and modify engine code when I need a new feature (impossible with Web), and many more.\n\nThat is a big reason why I decided to contribute this PR (Preemption for 60 FPS) to Flutter. Flutter has saved me so much time, so now it is my turn to provide my time to Flutter to make it better. I also love open source very much, such as my [flutter_rust_bridge](https://github.com/fzyzcjy/flutter_rust_bridge) open-source library (which could have been closed-source and only used by myself), and my previous PRs to Flutter fixing bugs, which is another driving force.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\u2764\ufe0f", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/2764.svg"}, "count": 1}], "mentions": [{"id": "126079426076082176", "name": "ping", "discriminator": "0001", "nickname": "ping (pixeltoast)", "isBot": false}, {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "isBot": false}, {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}, {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}, {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}, {"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "isBot": false}]}, {"id": "1023962525391396956", "type": "Default", "timestamp": "2022-09-26T14:21:30.357+00:00", "timestampEdited": "2022-09-26T14:21:48.114+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "(overhauled design doc) https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Preemption for 60 FPS (PUBLICLY SHARED)", "url": "https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko", "timestamp": null, "description": "Use preemption to achieve 60 FPS, no matter how heavy the tree is to build/layout.", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/WfdOwm6F8iJvcVXJmMFpElDAuDcJ7F1jF7O2bKyaOwQ/https/lh4.googleusercontent.com/kIf3Yz1PCMWZmacq_NtplS5AgI0GFoAI2tMlbi5Vob9qFE3Rd1YnZ9doiRvjO-T0AW-MiUHd7VG8bOQ%3Dw1200-h630-p", "width": 1200, "height": 630}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024029635975065771", "type": "Reply", "timestamp": "2022-09-26T18:48:10.767+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i still don't understand how you run the animation phase in your proposal. (the discussion in the last comment in the doc)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1023962525391396956", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024088435759251577", "type": "Reply", "timestamp": "2022-09-26T22:41:49.728+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Hixie Hi I add a section \"How is animation implemented\" just now. Hope I explain it clearly now!", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024029635975065771", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024088529363554424", "type": "Default", "timestamp": "2022-09-26T22:42:12.045+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(last section in the \"detailed design\")", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024090751816187944", "type": "Default", "timestamp": "2022-09-26T22:51:01.919+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "ah, i see", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024090772720590878", "type": "Default", "timestamp": "2022-09-26T22:51:06.903+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "so it only works for animations driven from tickers", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024090828777459823", "type": "Default", "timestamp": "2022-09-26T22:51:20.268+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "this whole design seems super fragile to me", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091043601326130", "type": "Reply", "timestamp": "2022-09-26T22:52:11.486+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "May I know what other kinds of animations exist in Flutter?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024090772720590878", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024091069543088248", "type": "Default", "timestamp": "2022-09-26T22:52:17.671+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I personally have only seen those from tickers", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091097045139506", "type": "Default", "timestamp": "2022-09-26T22:52:24.228+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "could be anything", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091142188441660", "type": "Reply", "timestamp": "2022-09-26T22:52:34.991+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Hmm could you please point out where so I can try to improve?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024090828777459823", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024091239605358592", "type": "Reply", "timestamp": "2022-09-26T22:52:58.217+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://docs.flutter.dev/development/ui/animations", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024091097045139506", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024091329824821330", "type": "Default", "timestamp": "2022-09-26T22:53:19.727+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "what i mean by fragile is that there's lots of ways you could write a flutter app that violates the assumptions made here", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091389375565906", "type": "Default", "timestamp": "2022-09-26T22:53:33.925+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If I understand correctly, AnimatedBuilder, AnimatedWidget, FooTransition, TweenAnimationBuilder etc all use vsync and tickers", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091510934880329", "type": "Default", "timestamp": "2022-09-26T22:54:02.907+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "like, for example, what if two widgets communicate via some other object, and one is in one of these interruptible subtrees and the other isn't. they'll be seeing different phases at different times", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091515456327681", "type": "Reply", "timestamp": "2022-09-26T22:54:03.985+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Dev only needs to pay attention to the code inside PreemptBuilder.builder, which should be a little of code (instead of a lot)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024091329824821330", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024091581306908712", "type": "Default", "timestamp": "2022-09-26T22:54:19.685+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "That builder is only for smooth animations", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091608687317154", "type": "Default", "timestamp": "2022-09-26T22:54:26.213+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "not for very huge heavy things \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091648398999675", "type": "Default", "timestamp": "2022-09-26T22:54:35.681+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that's what i mean by fragile :-)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091708260089897", "type": "Default", "timestamp": "2022-09-26T22:54:49.953+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "something that isn't fragile would work in many different scenarios", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091808927580190", "type": "Reply", "timestamp": "2022-09-26T22:55:13.954+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sure I agree with that. But it seems to solve the smoothness at 60fps problem", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024091510934880329", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024091832247930900", "type": "Default", "timestamp": "2022-09-26T22:55:19.514+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Everything comes with a cost :/", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091923889266698", "type": "Default", "timestamp": "2022-09-26T22:55:41.363+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Especially with the gain of \"60fps, no matter how heavy your subtree is to build and layout\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024091974933946450", "type": "Default", "timestamp": "2022-09-26T22:55:53.533+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "well, it doesn't really. it solves the \"subset of your tree at 60fps\" problem :-)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092067368009830", "type": "Default", "timestamp": "2022-09-26T22:56:15.571+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The \"user seeing the UI at 60fps\" \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092105385185290", "type": "Default", "timestamp": "2022-09-26T22:56:24.635+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "sort of. parts will be 30fps :-)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092110032470087", "type": "Default", "timestamp": "2022-09-26T22:56:25.743+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "anyway", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092151992291398", "type": "Default", "timestamp": "2022-09-26T22:56:35.747+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "is there a way to build this in a package?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092168383627344", "type": "Default", "timestamp": "2022-09-26T22:56:39.655+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "parts that does not need change indeed so users never know it \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092183223074896", "type": "Default", "timestamp": "2022-09-26T22:56:43.193+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "what does it actually need from the core framework?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092229884715028", "type": "Default", "timestamp": "2022-09-26T22:56:54.318+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(btw why you can type that face while mine will be a yellow face)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092251896422450", "type": "Reply", "timestamp": "2022-09-26T22:56:59.566+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes and no, the details:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024092151992291398", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024092288764354580", "type": "Default", "timestamp": "2022-09-26T22:57:08.356+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i suppose you need to hook into every build/layout", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092331445600347", "type": "Default", "timestamp": "2022-09-26T22:57:18.532+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024092331273629726", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024092331273629726/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 161829}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092350382870678", "type": "Default", "timestamp": "2022-09-26T22:57:23.047+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The \"needed code change\" section", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092415763685476", "type": "Default", "timestamp": "2022-09-26T22:57:38.635+00:00", "timestampEdited": "2022-09-26T22:58:18.793+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "So maybe I should PR those framework changes, and then make a package? Or should I PR the whole thing?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092761613406219", "type": "Default", "timestamp": "2022-09-26T22:59:01.092+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "some of these changes are sort of fundamentally opposed to flutter's design philosophy\nlike, for example, the widget system shouldn't need to know about tickers\na developer should be able to build an entirely separate animation system and just layer it on top of the framework\nbut if we do what this proposal suggests, we're really saying that tickers are very special in a core sense", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092818895011870", "type": "Reply", "timestamp": "2022-09-26T22:59:14.749+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Or a way to preempt an isolate, creating a continuation that can be resumed, but that probably isn't going to happen.", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024092288764354580", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024092903770947635", "type": "Default", "timestamp": "2022-09-26T22:59:34.985+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "yeah that seems even more fragile", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024092916408401920", "type": "Reply", "timestamp": "2022-09-26T22:59:37.998+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Btw, not sure what exact problem will they face? The widget in main tree see one ticker per frame. The widget in second tree see many ticker ticks per frame. And they see the same microtasks and event loop run.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024091510934880329", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024093082909687870", "type": "Reply", "timestamp": "2022-09-26T23:00:17.695+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i dunno, it's hard to predict. that's what i mean by \"fragile\".", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024092916408401920", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024093089188565032", "type": "Reply", "timestamp": "2022-09-26T23:00:19.192+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "IIRC I have had some thoughts a bit similar to that before (see that github thread) also without success", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1024092818895011870", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024093185716264960", "type": "Reply", "timestamp": "2022-09-26T23:00:42.206+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see. Just want to have one example in my mind, really cannot imagine.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024093082909687870", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024093242595229708", "type": "Default", "timestamp": "2022-09-26T23:00:55.767+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If there are zero examples then just cannot know what to do/worry with it", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024093324241555496", "type": "Default", "timestamp": "2022-09-26T23:01:15.233+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i totally understand that my concerns are unsatisfying", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024093413295018065", "type": "Default", "timestamp": "2022-09-26T23:01:36.465+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "It's totally OK, I just need some input to know the concerns better", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024093459973427231", "type": "Default", "timestamp": "2022-09-26T23:01:47.594+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "such that I can try to figure out a way to solve it if it is a problem", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024093518345543880", "type": "Default", "timestamp": "2022-09-26T23:02:01.511+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "let me see if i can think of a good example", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\ude00", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f600.svg"}, "count": 1}], "mentions": []}, {"id": "1024093652164808714", "type": "Default", "timestamp": "2022-09-26T23:02:33.416+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I hope I'm not making an oot question: isn't the `PreemptBuilder` proposal trying to solve what Impller also aims to solve? (= remove jank on animations by pre-compiling stuff)", "author": {"id": "82789489465888768", "name": "BetoMan0", "discriminator": "8507", "nickname": "BetoMan0", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/82789489465888768/e6f887c909334175beee4451517bea99.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024093770687463424", "type": "Reply", "timestamp": "2022-09-26T23:03:01.674+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Well seems not. Impeller solves raster thread jank, PreemptBuilder solves build/layout jank in ui thread", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\udc4d", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f44d.svg"}, "count": 2}], "mentions": [{"id": "82789489465888768", "name": "BetoMan0", "discriminator": "8507", "nickname": "BetoMan0", "isBot": false}], "reference": {"messageId": "1024093652164808714", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024093830288519188", "type": "Default", "timestamp": "2022-09-26T23:03:15.884+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "One piece of feedback that is actionable is imaging what it would take to make this a plugin.", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024094034286891028", "type": "Reply", "timestamp": "2022-09-26T23:04:04.521+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Clear, thanks!", "author": {"id": "82789489465888768", "name": "BetoMan0", "discriminator": "8507", "nickname": "BetoMan0", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/82789489465888768/e6f887c909334175beee4451517bea99.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024093770687463424", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024094077072982107", "type": "Reply", "timestamp": "2022-09-26T23:04:14.722+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yes I also think it is a feasible idea. The \"Needed code change\" section is about \"what needs to change framework/engine\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1024093830288519188", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024094117728354454", "type": "Default", "timestamp": "2022-09-26T23:04:24.415+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Indeed not many changes to framework/engine", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024094240365625394", "type": "Default", "timestamp": "2022-09-26T23:04:53.654+00:00", "timestampEdited": "2022-09-26T23:05:04.338+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "(That section, plus a few \"make file-private function public but do not need to change any real functionality\")", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024094300147032204", "type": "Default", "timestamp": "2022-09-26T23:05:07.907+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@fzyzcjy so for example, suppose instead of using a Ticker i have an animation that's driven by a Timer. every time it triggers, it changes some global state. then i have many widgets that follow that global state. with your proposal, the sections inside the special widget would not animate fast.", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}]}, {"id": "1024094425309249556", "type": "Reply", "timestamp": "2022-09-26T23:05:37.748+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Thanks for the example. However, IIRC \"animation by timer\" is discouraged?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024094300147032204", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024094478845358140", "type": "Default", "timestamp": "2022-09-26T23:05:50.512+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So if a user uses a discouraged approach he gets bad results", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\udc4d", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f44d.svg"}, "count": 1}], "mentions": []}, {"id": "1024094716377174026", "type": "Default", "timestamp": "2022-09-26T23:06:47.144+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "writing a widget tree that takes more than 16ms to build is also discouraged, but we're still trying to help people who do that :-)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024094814347726898", "type": "Default", "timestamp": "2022-09-26T23:07:10.502+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Well that is indeed mandatory, because:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024094876645728337", "type": "Default", "timestamp": "2022-09-26T23:07:25.355+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024094875139969074", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024094875139969074/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 227643}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024094981427839006", "type": "Default", "timestamp": "2022-09-26T23:07:50.337+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "In other words, a dev trying the best to follow Flutter suggestions still may face the build/layout-more-than-16ms problem", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095026596302848", "type": "Default", "timestamp": "2022-09-26T23:08:01.106+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Such as bytedance", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095081659109436", "type": "Default", "timestamp": "2022-09-26T23:08:14.234+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "And there are just so many really slow devices in the world indeed", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095218070462504", "type": "Default", "timestamp": "2022-09-26T23:08:46.757+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it's really important for us that flutter be something thet's predictable and easy to understand", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095238488346654", "type": "Default", "timestamp": "2022-09-26T23:08:51.625+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "It is just impossible to be smooth on all slow, slower, slower than slower devices (without the proposal). layout/build really needs some time, and on them it can exceed 16ms", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095261087240192", "type": "Reply", "timestamp": "2022-09-26T23:08:57.013+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I totally agree", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024095218070462504", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024095319492927498", "type": "Default", "timestamp": "2022-09-26T23:09:10.938+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "for well-behaved users \ud83d\ude09", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095334672109599", "type": "Default", "timestamp": "2022-09-26T23:09:14.557+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "for everyone", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095389504253952", "type": "Default", "timestamp": "2022-09-26T23:09:27.63+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "because people don't necessarily know what best practices are", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095420172996659", "type": "Default", "timestamp": "2022-09-26T23:09:34.942+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Hmm I see", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095464729104465", "type": "Default", "timestamp": "2022-09-26T23:09:45.565+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and they will never be able to learn if they get frustrated with a system that isn't helping them when they're new", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095491954331668", "type": "Default", "timestamp": "2022-09-26T23:09:52.056+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "such that they just give up", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095505627750490", "type": "Default", "timestamp": "2022-09-26T23:09:55.316+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "totally agree", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095555988754572", "type": "Default", "timestamp": "2022-09-26T23:10:07.323+00:00", "timestampEdited": "2022-09-26T23:10:13.089+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "but I am not very sure will a new learner really use PreemptBuilder?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095642408198264", "type": "Default", "timestamp": "2022-09-26T23:10:27.927+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "yes, because they'll google around \"how to help slow app\" and they'll find a youtube video that talks about it and they'll try it", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095645210001418", "type": "Default", "timestamp": "2022-09-26T23:10:28.595+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "or should we add some doc to PreemptBuilder saying the care needed", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095696393097246", "type": "Reply", "timestamp": "2022-09-26T23:10:40.798+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Ah that is quite reasonable", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024095642408198264", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024095777515118652", "type": "Default", "timestamp": "2022-09-26T23:11:00.139+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "or use the alternative approach you mentioned above - I publish a package about it", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024095870859366500", "type": "Default", "timestamp": "2022-09-26T23:11:22.394+00:00", "timestampEdited": "2022-09-26T23:11:36.533+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "then in the package frontpage I can just have a big warning saying \"hey don't use timers\" and so on", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024096275311894619", "type": "Default", "timestamp": "2022-09-26T23:12:58.823+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "another example would be, suppose there's two RenderObjects and they each create a Layer and those Layers know they will always be used together because the RenderObjects are always used together. So they can rely on always existing as a pair and can always read the render object sizes and so on when the layer tree is walked.\nnow suppose one of those RenderObjects is in the \"expensive\" part of the subtree and the other is in the \"fast\" part of the subtree.\nor suppose one is in the \"expensive\" part that got laid out before we interrupted layout, and the other is in the part that got laid out later.", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024096669698117732", "type": "Default", "timestamp": "2022-09-26T23:14:32.852+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "That looks like a problem as well. But may I know how layers read RO sizes? IIRC layers do not remember ROs", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024096700001955941", "type": "Default", "timestamp": "2022-09-26T23:14:40.077+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "they can do whatevery they want", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024096708373786644", "type": "Default", "timestamp": "2022-09-26T23:14:42.073+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "they're just code", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024096759502344252", "type": "Default", "timestamp": "2022-09-26T23:14:54.263+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "That sounds like a problem", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024096931909206077", "type": "Default", "timestamp": "2022-09-26T23:15:35.368+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "For expert users who uses custom layers", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097019767304262", "type": "Default", "timestamp": "2022-09-26T23:15:56.315+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "another example would be GlobalKey reparenting. Suppose the section of the subtree on the \"fast\" branch tries to move a widget from the section of the tree in the \"expensive\" branch using GlobalKeys.", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097112759222282", "type": "Default", "timestamp": "2022-09-26T23:16:18.486+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see, that will definitely not work.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097174142865488", "type": "Default", "timestamp": "2022-09-26T23:16:33.121+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But IMHO no \"animation\" requires moving it", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097208724897882", "type": "Default", "timestamp": "2022-09-26T23:16:41.366+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But I agree we should be friendly to all edge cases", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097242690367588", "type": "Default", "timestamp": "2022-09-26T23:16:49.464+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "fundamentally the problem is that your proposal violates some of the core assumptions of the framework", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097318347214929", "type": "Default", "timestamp": "2022-09-26T23:17:07.502+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "such as, that we'll always do a single build/layout/paint/layer/semantics pass per frame", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097323887890462", "type": "Default", "timestamp": "2022-09-26T23:17:08.823+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I agree, it is just the least violation I can find", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097461679173632", "type": "Reply", "timestamp": "2022-09-26T23:17:41.675+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I refine to: per tree per pseudo or real frame. fast tree it is 60fps  pseudo \"frame\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024097318347214929", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024097584370941962", "type": "Reply", "timestamp": "2022-09-26T23:18:10.927+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I have also tried other methods and there are previous thoughts about other methods as well, but seem they have drawbacks or cannot work", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [], "reference": {"messageId": "1024097323887890462", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024097612237906032", "type": "Default", "timestamp": "2022-09-26T23:18:17.571+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(See \"Comparison\" chapter)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097627605844100", "type": "Default", "timestamp": "2022-09-26T23:18:21.235+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "any time you violate core assumptions, you have to either very carefully think about what the new assumptions should be that we can make sure the entire model follows these new assumptions, or things will become fragile", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097701249425469", "type": "Default", "timestamp": "2022-09-26T23:18:38.793+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "totally agree", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097727258296330", "type": "Default", "timestamp": "2022-09-26T23:18:44.994+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(it's often extremely hard to do this)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097751853695067", "type": "Default", "timestamp": "2022-09-26T23:18:50.858+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "think so :/", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024097948604313632", "type": "Default", "timestamp": "2022-09-26T23:19:37.767+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "the problem with a system like flutter's, which has many years of work already done on it, is that there's a lot of these assumptions and it's easy to just not know about some of them. e.g. i'm sure i don't know them all at this point.", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098031194345543", "type": "Default", "timestamp": "2022-09-26T23:19:57.458+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "totally agree about that", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098066111934496", "type": "Default", "timestamp": "2022-09-26T23:20:05.783+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "so should I just make a package and publish to pub.dev?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098110361841734", "type": "Default", "timestamp": "2022-09-26T23:20:16.333+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "with minimal necessary modifications to framework and engine", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098227957547110", "type": "Default", "timestamp": "2022-09-26T23:20:44.37+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it would be interesting to examine what the minimal changes would need to be", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098292658884628", "type": "Default", "timestamp": "2022-09-26T23:20:59.796+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "mainly this", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024098292314943538", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024098292314943538/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 162530}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098298992263278", "type": "Default", "timestamp": "2022-09-26T23:21:01.306+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "the list currently in the doc is probably not minimal enough to justify doing", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098354436767774", "type": "Default", "timestamp": "2022-09-26T23:21:14.525+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Let me think whether it is possible to remove some", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098358949859368", "type": "Default", "timestamp": "2022-09-26T23:21:15.601+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "for example, i definitely don't think we should elevate Tickers in this way", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098456052170792", "type": "Default", "timestamp": "2022-09-26T23:21:38.752+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and adding a hook to every build/layout step is going to be a cost everyone would pay even if they don't use the feature", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098488851636278", "type": "Default", "timestamp": "2022-09-26T23:21:46.572+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "which is probably not something we'd want to do", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098518425681971", "type": "Default", "timestamp": "2022-09-26T23:21:53.623+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "especially when the goal is to make things faster :-)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024098613342781450", "type": "Reply", "timestamp": "2022-09-26T23:22:16.253+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "May I know why?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024098358949859368", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024098652064595989", "type": "Default", "timestamp": "2022-09-26T23:22:25.485+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "we could potentially allow people to swap out the layout function with zero cost or one layer of indirection at the top of the tree", "author": {"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/616684161519976450/8e3da5251e1024574fb4a6fadf6f03c2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\udc4d", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f44d.svg"}, "count": 1}], "mentions": []}, {"id": "1024098773296758904", "type": "Reply", "timestamp": "2022-09-26T23:22:54.389+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I am not expert in compiler, but will it introduce runtime cost if the hook is always null? (Will compiler throw it away)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024098456052170792", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024098997654278144", "type": "Default", "timestamp": "2022-09-26T23:23:47.88+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Or maybe we can do what @gaaclarke suggests, say create a `Renderer.layout(RenderObject ro)` and I just `class MyRenderer extends Renderer`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}]}, {"id": "1024099008643346502", "type": "Reply", "timestamp": "2022-09-26T23:23:50.5+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "flutter's tried to follow a \"layered\" approach, where there are very few \"core\" components that one _must_ use. For example, you can use RenderObjects without widgets. You can use widgets without material. You don't have to use WidgetsApp if you don't want to. You don't have to use Tickers if you don't want to. etc.", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024098613342781450", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024099188079870023", "type": "Reply", "timestamp": "2022-09-26T23:24:33.281+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "if there's a way to do that that's zero cost during normal operations, that's worth considering", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1024098652064595989", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024099218941550652", "type": "Default", "timestamp": "2022-09-26T23:24:40.639+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i'm sure lots of packages could benefit from that kind of hook", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\ude00", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f600.svg"}, "count": 1}], "mentions": []}, {"id": "1024099244610686986", "type": "Reply", "timestamp": "2022-09-26T23:24:46.759+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Oh I see maybe I do not explain clearly. We do *not*expose all tickers. We only expose those who are created inside SingleTickerProviderStateMixin", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024099008643346502", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024099333697716274", "type": "Default", "timestamp": "2022-09-26T23:25:07.999+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "We already let SingleTickerProviderStateMixin to read TickerMode (inherited widget) so looks like we are just doing something mimicking the existing", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024099481597251624", "type": "Reply", "timestamp": "2022-09-26T23:25:43.261+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Then maybe I should try that `class Renderer` and report some metrics later", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024099188079870023", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024099652955553865", "type": "Reply", "timestamp": "2022-09-26T23:26:24.116+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "right my point is that TickerMode is just a widget. you don't have to use it. SingleTickerProviderStateMixin is just a tool, you don't have to use it. But if we say that SingleTickerProviderStateMixin now exposes a special API, we're saying it's special in a way that MyCustomSingleTickerProviderStateMixin is not, and can never be.", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024099244610686986", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024099923056132117", "type": "Reply", "timestamp": "2022-09-26T23:27:28.513+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sorry I do not quite get it. I am trying to modify SingleTickerProviderStateMixin in a ways that, originally it calls TickerMode (inherited widget), not it calls TickerMode + TickerRegistry (another inherited widget)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024099652955553865", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024100072268501002", "type": "Default", "timestamp": "2022-09-26T23:28:04.088+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024100071861657611", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024100071861657611/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 123948}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100104510128158", "type": "Default", "timestamp": "2022-09-26T23:28:11.775+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024100104195551314", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024100104195551314/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 45091}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100162844504105", "type": "Default", "timestamp": "2022-09-26T23:28:25.683+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Just read an inherited widget, completely mimicking what we do to TickerMode", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100289457958992", "type": "Default", "timestamp": "2022-09-26T23:28:55.87+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(code may not be exactly mimic though if merely looking at the screenshot; but digging down one or two function calls we see it is the same)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100394659487805", "type": "Default", "timestamp": "2022-09-26T23:29:20.952+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "what would TickerRegistry do?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100497667407953", "type": "Default", "timestamp": "2022-09-26T23:29:45.511+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "It knows all tickers in the subtree and created by TickerProviderStateMixin", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100573475242064", "type": "Default", "timestamp": "2022-09-26T23:30:03.585+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "so now if i want to make a new kind of Ticker, how do i register it?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100584325922856", "type": "Default", "timestamp": "2022-09-26T23:30:06.172+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Then in PreemptBuilder (e.g. in 3rd package), we just call all of those tickers's onTick", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100630048022618", "type": "Default", "timestamp": "2022-09-26T23:30:17.073+00:00", "timestampEdited": "2022-09-26T23:30:21.459+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "MyCustomTicker, which has no interfaces in common with Ticker", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100633642541117", "type": "Reply", "timestamp": "2022-09-26T23:30:17.93+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Just like how you register it with TickerMode", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024100573475242064", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024100665053687849", "type": "Default", "timestamp": "2022-09-26T23:30:25.419+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "TickerMode doesn't know about Tickers", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100718237450350", "type": "Default", "timestamp": "2022-09-26T23:30:38.099+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it just reports a boolean", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100781403668500", "type": "Default", "timestamp": "2022-09-26T23:30:53.159+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and notifies you when it changes", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100875783917618", "type": "Reply", "timestamp": "2022-09-26T23:31:15.661+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Then what about making TickerRegistry receive an abstract class (interface) instead of the real Ticker class", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024100630048022618", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024100907262152745", "type": "Default", "timestamp": "2022-09-26T23:31:23.166+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Or , I know it:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100944784392233", "type": "Default", "timestamp": "2022-09-26T23:31:32.112+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Just do not let TickerRegistry know the tickers", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024100974077419550", "type": "Default", "timestamp": "2022-09-26T23:31:39.096+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "so then what does it do?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024101064686964776", "type": "Default", "timestamp": "2022-09-26T23:32:00.699+00:00", "timestampEdited": "2022-09-26T23:32:41.418+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Instead, let it (maybe w/a rename) provide `addListenerWhenOtherPartsOfSystemWantsToCallAnExtraOnTick`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024101626698539008", "type": "Default", "timestamp": "2022-09-26T23:34:14.693+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So now the MyCustomTicker (not extend/implement Ticker) is happy", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102166685810788", "type": "Default", "timestamp": "2022-09-26T23:36:23.436+00:00", "timestampEdited": "2022-09-26T23:36:32.612+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "e.g. named \"ExtraOnTickProvider\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102321807962112", "type": "Default", "timestamp": "2022-09-26T23:37:00.42+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "basically this makes ExtraOnTickProvider a special class", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102410123235438", "type": "Default", "timestamp": "2022-09-26T23:37:21.476+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "May I know why it is special?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102507795984425", "type": "Default", "timestamp": "2022-09-26T23:37:44.763+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "anyone who wants to participate in this model has to make sure they can express their animation logic as an ExtraOnTickProvider", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102645742448741", "type": "Default", "timestamp": "2022-09-26T23:38:17.652+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Well, again, is there real examples who create CustomTicker unrelated to real ticker logic...", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102696946516028", "type": "Default", "timestamp": "2022-09-26T23:38:29.86+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If so he must be an expert", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102741120925706", "type": "Default", "timestamp": "2022-09-26T23:38:40.392+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "And experts should understand how PreemptBuilder works \ud83d\ude09", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102798188621834", "type": "Default", "timestamp": "2022-09-26T23:38:53.998+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "as we talked about before, that's not a safe line of reasoning", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102871257600000", "type": "Default", "timestamp": "2022-09-26T23:39:11.419+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "non-experts will be exposed to all APIs", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102889448292452", "type": "Default", "timestamp": "2022-09-26T23:39:15.756+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I totally agree we should be friendly to new users watching a youtube video", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102918510628965", "type": "Default", "timestamp": "2022-09-26T23:39:22.685+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "\"only experts will use it\" is never a valid way to design APIs", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102952761294908", "type": "Default", "timestamp": "2022-09-26T23:39:30.851+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "because everyone is a non-expert the first time they use an API", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102959820329082", "type": "Default", "timestamp": "2022-09-26T23:39:32.534+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Well, ok :/", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024102999833976892", "type": "Default", "timestamp": "2022-09-26T23:39:42.074+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I just mean not sure who will really need this", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103027008876645", "type": "Default", "timestamp": "2022-09-26T23:39:48.553+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Ok then let me think about other ways to expose Tickers", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103048324325467", "type": "Default", "timestamp": "2022-09-26T23:39:53.635+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "fwiw i think this is something we could have done from the beginning, basically instead of the animation phase which relies on scheduleMicrotask as the special magic, we would have a registry of OnTickProviders that provide the special magic", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103140032786492", "type": "Default", "timestamp": "2022-09-26T23:40:15.5+00:00", "timestampEdited": "2022-09-26T23:40:23.4+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Totally agree. But seems we can never change it today? \ud83d\ude26", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103199172481195", "type": "Default", "timestamp": "2022-09-26T23:40:29.6+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but having now gone the former route, moving to the latter route either means having extra complexity (because we have both), or means taking on the rather large task of migrating the entire ecosystem to the new mechanism", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103251148296215", "type": "Default", "timestamp": "2022-09-26T23:40:41.992+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "sometimes we have done that kind of thing", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103328281530468", "type": "Default", "timestamp": "2022-09-26T23:41:00.382+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I can contribute", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103371348643850", "type": "Default", "timestamp": "2022-09-26T23:41:10.65+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "e.g. at one point State.widget was called State.config and someone (i forget who?) renamed it and basically migrated the entire ecosystem to the new name", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103413354606634", "type": "Default", "timestamp": "2022-09-26T23:41:20.665+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but that was a long time ago and the ecosystem is much bigger now", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103436008038440", "type": "Default", "timestamp": "2022-09-26T23:41:26.066+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that's true", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103468199325696", "type": "Default", "timestamp": "2022-09-26T23:41:33.741+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "(and congratulations!)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103521924153354", "type": "Default", "timestamp": "2022-09-26T23:41:46.55+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So what about this:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103679156031509", "type": "Default", "timestamp": "2022-09-26T23:42:24.037+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Change `SingleTickerProviderStateMixin.createTicker` . Do not `ticker = Ticker()`. But instead `ticker = TickerProviderConfigInheritedWidget.of(context).createTicker()`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103730611765269", "type": "Default", "timestamp": "2022-09-26T23:42:36.305+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "In other words, we have a new TickerProviderConfigInheritedWidget", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103772349268000", "type": "Default", "timestamp": "2022-09-26T23:42:46.256+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it just configures how TickerProviderStateMixin create tickers", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103883447992392", "type": "Default", "timestamp": "2022-09-26T23:43:12.744+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "SingleTickerProviderStateMixin.createTicker is not the only way animation triggers are created", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103900111966298", "type": "Default", "timestamp": "2022-09-26T23:43:16.717+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "When there is no such inherited widget, just do the old logic: `new Ticker()`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024103946194792499", "type": "Reply", "timestamp": "2022-09-26T23:43:27.704+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "May I know what are the others?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024103883447992392", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024103979770187846", "type": "Default", "timestamp": "2022-09-26T23:43:35.709+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Timer.periodic, for example", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104005011521567", "type": "Default", "timestamp": "2022-09-26T23:43:41.727+00:00", "timestampEdited": "2022-09-26T23:43:49.572+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "That just will not be supported", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104032610025522", "type": "Default", "timestamp": "2022-09-26T23:43:48.307+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Streams are another", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104109877514261", "type": "Default", "timestamp": "2022-09-26T23:44:06.729+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Since these logic are in my 3rd party package I guess it is not a huge problem", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104151552098364", "type": "Default", "timestamp": "2022-09-26T23:44:16.665+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "just write down \"Stream and Timer are not supported\" in README", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104160607600713", "type": "Default", "timestamp": "2022-09-26T23:44:18.824+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "of the 3rd package", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104183349137479", "type": "Default", "timestamp": "2022-09-26T23:44:24.246+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "yeah it's a lot easier if it's a package than the core framework", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104264781533254", "type": "Default", "timestamp": "2022-09-26T23:44:43.661+00:00", "timestampEdited": "2022-09-26T23:44:51.386+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "And also easier to upgrade as well (no need to wait 3mo for next stable flutter if someone sees a bug)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104609725304965", "type": "Default", "timestamp": "2022-09-26T23:46:05.902+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024104609570111579", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024104609570111579/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 139203}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024104671264133150", "type": "Default", "timestamp": "2022-09-26T23:46:20.574+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So looks like my next step is to create these 4 PRs to Flutter?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024106444519378995", "type": "Default", "timestamp": "2022-09-26T23:53:23.351+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i think for each one we should carefully consider if there are potentially better ways to approach it", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024106489327144971", "type": "Default", "timestamp": "2022-09-26T23:53:34.034+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Sure \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024106499150188634", "type": "Default", "timestamp": "2022-09-26T23:53:36.376+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but that's definitely more tractable than the earlier list :-)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\ude00", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f600.svg"}, "count": 1}], "mentions": []}, {"id": "1024106772501381201", "type": "Default", "timestamp": "2022-09-26T23:54:41.548+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Feel free to raise any potential problems and I will try to fix them", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107442717610034", "type": "Default", "timestamp": "2022-09-26T23:57:21.34+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i haven't studied the engine changes yet", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107476917960734", "type": "Default", "timestamp": "2022-09-26T23:57:29.494+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i'm still looking at the ticker one :-)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107550221799464", "type": "Default", "timestamp": "2022-09-26T23:57:46.971+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see, take your time \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107596245913750", "type": "Default", "timestamp": "2022-09-26T23:57:57.944+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "the problem you're trying to solve is, how to cause CircularProgressIndicator to tick, even though we haven't had an animation phase, right?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107640378380288", "type": "Default", "timestamp": "2022-09-26T23:58:08.466+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "yes", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107798801420289", "type": "Default", "timestamp": "2022-09-26T23:58:46.237+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and _CircularProgressIndicatorState uses an AnimationController with a Ticker created from a SingleTickerProviderStateMixin", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107862387077230", "type": "Default", "timestamp": "2022-09-26T23:59:01.397+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "yes just like that", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107942397624410", "type": "Default", "timestamp": "2022-09-26T23:59:20.473+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and ticker uses SchedulerBinding.instance.scheduleFrameCallback", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107969845153903", "type": "Default", "timestamp": "2022-09-26T23:59:27.017+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "interesting", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024107976316948641", "type": "Default", "timestamp": "2022-09-26T23:59:28.56+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "exactly", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024108232165298196", "type": "Default", "timestamp": "2022-09-27T00:00:29.559+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and the problem is that after you render your interrupted frame, you want to rerun all the newly scheduled frame callbacks, so that when you repaint this widget, it ends up advanced a little...", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024108290042511381", "type": "Default", "timestamp": "2022-09-27T00:00:43.358+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "not all indeed", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024108320505745500", "type": "Default", "timestamp": "2022-09-27T00:00:50.621+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "only those in second tree", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024108389812416632", "type": "Default", "timestamp": "2022-09-27T00:01:07.145+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that's why I make inherited widget - I put one at root of second tree", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024108420338569300", "type": "Default", "timestamp": "2022-09-27T00:01:14.423+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "ah, even trickier", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024108458020192396", "type": "Default", "timestamp": "2022-09-27T00:01:23.407+00:00", "timestampEdited": "2022-09-27T00:01:43.035+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "because I do not want to disturb the main tree", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024109403772817458", "type": "Default", "timestamp": "2022-09-27T00:05:08.892+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i certainly see why you gravitate to a way to create and/or register tickers via inherited widget", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\ude00", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f600.svg"}, "count": 1}], "mentions": []}, {"id": "1024109750171996180", "type": "Default", "timestamp": "2022-09-27T00:06:31.48+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "ironically it would be easier to solve if you wanted to just call the scheduled frame callbacks of every animation", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024109862306717736", "type": "Default", "timestamp": "2022-09-27T00:06:58.215+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I agree. But that will cause trouble since main tree will receive extra ontick", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024110139214659585", "type": "Default", "timestamp": "2022-09-27T00:08:04.235+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "because then you could just create a new binding...", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024110145069920256", "type": "Default", "timestamp": "2022-09-27T00:08:05.631+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "hmm", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024110193379917854", "type": "Default", "timestamp": "2022-09-27T00:08:17.149+00:00", "timestampEdited": "2022-09-27T00:08:45.843+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "hmm looks hard to make two bindings and let things in second subtree smartly register to second binding", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024110474373103646", "type": "Default", "timestamp": "2022-09-27T00:09:24.143+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "yeah the binding logic knows nothing about the trees", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024110832168214538", "type": "Default", "timestamp": "2022-09-27T00:10:49.448+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "yeah i dunno how to do this efficiently. i don't think we want to change SingleTickerProviderStateMixin et al to register their tickers, that seems like a lot of cycles spent that most people would never get to benefit from. (That said, if you can find a way to hook into layout cheaply, maybe we can expose a hook for SingleTickerProviderStateMixin too?)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024110852636430376", "type": "Default", "timestamp": "2022-09-27T00:10:54.328+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "tell me more about the engine changes?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024111451163594833", "type": "Default", "timestamp": "2022-09-27T00:13:17.028+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> a lot of cycles spent that most people would never get to benefit from. (That said, if you can find a way to hook into layout cheaply, maybe we can expose a hook for SingleTickerProviderStateMixin too?)\nI will experiment to see whether performance regresses", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024111575386308628", "type": "Default", "timestamp": "2022-09-27T00:13:46.645+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "So, is it enough to see benchmarks built into flutter repository? If they do not regress are we safe", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024111658307682354", "type": "Default", "timestamp": "2022-09-27T00:14:06.415+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i mean to be clear, performance will definitely regress if we do more work, even if we can't measure it", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024111707708198943", "type": "Default", "timestamp": "2022-09-27T00:14:18.193+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "That's definitely true", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024111813605994516", "type": "Default", "timestamp": "2022-09-27T00:14:43.441+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "we can't just add code that doesn't measurably affect benchmarks because if we did that 100 times then we would have moved the benchmarks", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024111972213587979", "type": "Default", "timestamp": "2022-09-27T00:15:21.256+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "totally agree. what about this: we just have a global flag, `enableTickerConfig`. If it is false, do the old thing. If it is true, read Inherited Widget", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024112035597926400", "type": "Default", "timestamp": "2022-09-27T00:15:36.368+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "And in my 3rd party package, one setup step is \"set enableTickerConfig=true\"", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024112063758479410", "type": "Default", "timestamp": "2022-09-27T00:15:43.082+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "and by default false", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024112283581960232", "type": "Default", "timestamp": "2022-09-27T00:16:35.492+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Or, we just do not call inherited widget at all", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024112371339378708", "type": "Default", "timestamp": "2022-09-27T00:16:56.415+00:00", "timestampEdited": "2022-09-27T00:18:51.595+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "we call a function, say: `Ticker Function(BuildContext context, VoidCallback onTick) tickerCreator = (_, onTick) => Ticker(onTick)`", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024112470375280690", "type": "Default", "timestamp": "2022-09-27T00:17:20.027+00:00", "timestampEdited": "2022-09-27T00:18:27.121+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "it by default is nothing but `Ticker.new`, and we can set it to read the inherited widget\nAnd I guess compilers may even inline it, if that createTheTicker is never setted?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024112582707122206", "type": "Reply", "timestamp": "2022-09-27T00:17:46.809+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "It is in the screenshot. I can explain more if something is unclear", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024110852636430376", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024113031086616576", "type": "Default", "timestamp": "2022-09-27T00:19:33.711+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Indeed we are unconditionally reading inherited widget (b/c the TickerMode) whenever we create one Ticker.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024113099554422905", "type": "Default", "timestamp": "2022-09-27T00:19:50.035+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "And I guess reading inh widget is much much more expensive that a function call that can possibly be inlined", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024113138653728899", "type": "Default", "timestamp": "2022-09-27T00:19:59.357+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Though I know a little accumulates to a lot", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024113568653787176", "type": "Default", "timestamp": "2022-09-27T00:21:41.877+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Or, for absolutely zero overhead: Maybe enable it by `bool.fromEnvironement` flag. IIRC those are compile time constants, and compilers will just handle them at compile time. for example, `kDebugMode ? heavy_work : cheap_work`, the heavy_work seems even not in the final binary", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024113718134591540", "type": "Default", "timestamp": "2022-09-27T00:22:17.516+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Users of the 3rd party package will need `--dart-define=enableTheTickerConfig=true` or something like that. And other users have exactly zero overhead.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024115109544607785", "type": "Default", "timestamp": "2022-09-27T00:27:49.254+00:00", "timestampEdited": "2022-09-27T00:29:24.211+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Hope this is a bit clearer:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024115484305666078", "type": "Default", "timestamp": "2022-09-27T00:29:18.604+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024115483961741333", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024115483961741333/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 92456}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024130227619778651", "type": "Default", "timestamp": "2022-09-27T01:27:53.684+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i meant tell me more about why those specific changes", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024130371710890085", "type": "Default", "timestamp": "2022-09-27T01:28:28.038+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it sounds like what you are trying to do is allow frames to be rendered from a different callback than the one that asked for it, right?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024130609565667420", "type": "Default", "timestamp": "2022-09-27T01:29:24.747+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "hm, this is another one of those cases where there's some pretty fundamental assumptions built into the system that we would be breaking here, and need to think very carefully about", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024130786766631002", "type": "Reply", "timestamp": "2022-09-27T01:30:06.995+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "that has the problem of being hard to test (we would need to run all the tests for every combination of these flags, which gets exponentially expensive)", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024113568653787176", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024132284158312509", "type": "Reply", "timestamp": "2022-09-27T01:36:04.001+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see the problem. What about this:\n```\nbool? debugOverrideTheFlag;\nbool get theFlag {\n  var ans;\n  assert(() => ans = debugOverrideTheFlag);\n  return ans ?? bool.fromEnvironment('the.flag');\n}\n```\nIt has zero overhead in release (given it is just a compile time constant). And it has testability (just debugOverrideTheFlag)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024130786766631002", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024133369837137931", "type": "Reply", "timestamp": "2022-09-27T01:40:22.847+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024133369568690186", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024133369568690186/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 153533}], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024130227619778651", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024133377101672468", "type": "Default", "timestamp": "2022-09-27T01:40:24.579+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "\"Why\" added to the doc now", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024133451269550120", "type": "Reply", "timestamp": "2022-09-27T01:40:42.262+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I guess no? i.e. I do not violate it?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024130371710890085", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024133679653588992", "type": "Default", "timestamp": "2022-09-27T01:41:36.713+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I am still calling window.render inside the BeginFrame callback, because the preemptRender is a function called from build/layout functions which is called from BeginFrame. I just call it multiple times (instead of one time).", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024133765431316491", "type": "Reply", "timestamp": "2022-09-27T01:41:57.164+00:00", "timestampEdited": "2022-09-27T01:42:08.632+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "So I guess I do not break this", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024130609565667420", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024136073657450516", "type": "Default", "timestamp": "2022-09-27T01:51:07.488+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "but then presumably we would not call it for the next actual BeginFrame, right? since we'd have already done it", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024136184932352010", "type": "Reply", "timestamp": "2022-09-27T01:51:34.018+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "May I know what is \"it\"?", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024136073657450516", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024136335130361898", "type": "Default", "timestamp": "2022-09-27T01:52:09.828+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If \"it\" is \"Produce\", then that still calls in next BeginFrame", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024136418378924042", "type": "Default", "timestamp": "2022-09-27T01:52:29.676+00:00", "timestampEdited": "2022-09-27T01:52:43.981+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "The logic is, at Render, when we see no continuation (this happens when one BeginFrame has two window.render), originally we just halt early", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024136520992575548", "type": "Default", "timestamp": "2022-09-27T01:52:54.141+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But now, when this case, we add one extra continuation via Produce().", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024136664349687808", "type": "Default", "timestamp": "2022-09-27T01:53:28.32+00:00", "timestampEdited": "2022-09-27T01:54:07.465+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "We will finish this Produce() just a few lines below. So in next BeginFrame we need to Produce() again (for the next frame's Render)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024136887591514272", "type": "Default", "timestamp": "2022-09-27T01:54:21.545+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024136887214014484", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024136887214014484/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 124926}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024136916104392804", "type": "Default", "timestamp": "2022-09-27T01:54:28.343+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "the blue-highlighted lines are \"finish the Produce continuation\" logic", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024136960899567618", "type": "Reply", "timestamp": "2022-09-27T01:54:39.023+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "it=window.render", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024136184932352010", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024137011302502531", "type": "Default", "timestamp": "2022-09-27T01:54:51.04+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Oh, then we still call it in the next frame", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137100167221269", "type": "Default", "timestamp": "2022-09-27T01:55:12.227+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Because in my proposal, one plain-old frame will have zero to many extra smooth window.render", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137140361240577", "type": "Default", "timestamp": "2022-09-27T01:55:21.81+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "But that plain-old frame is just there. It runs normal full pipeline", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137168685379584", "type": "Default", "timestamp": "2022-09-27T01:55:28.563+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "including window.render inside that pipeline", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137406049435719", "type": "Default", "timestamp": "2022-09-27T01:56:25.155+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "oh I see, we just skip the BeginFrame for \"missed\" frames that this would partially render", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137593618698300", "type": "Reply", "timestamp": "2022-09-27T01:57:09.875+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If a frame is missed, the whole pipeline just do not execute, and the proposed PreemptBuilder etc also do not execute", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "isBot": false}], "reference": {"messageId": "1024137406049435719", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024137629689716866", "type": "Default", "timestamp": "2022-09-27T01:57:18.475+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "how can we know the right timestamp for the \"fast\" frames if we don't get the BeginFrame call?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137698476302467", "type": "Default", "timestamp": "2022-09-27T01:57:34.875+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "via the last PR among the four: Get latest vsync data", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137756382859304", "type": "Default", "timestamp": "2022-09-27T01:57:48.681+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Indeed only need to read \"what is the latest vsync data\" once per 16ms", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137893574357014", "type": "Default", "timestamp": "2022-09-27T01:58:21.39+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Btw I have confirmed the time is correct in the experiment analysis section", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024137927833440266", "type": "Default", "timestamp": "2022-09-27T01:58:29.558+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024137927216857169", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024137927216857169/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 1135188}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024138032749744200", "type": "Default", "timestamp": "2022-09-27T01:58:54.572+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "in this (photos from a camera mp4 video), we can see the animation is of equal distance", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024138098642276402", "type": "Default", "timestamp": "2022-09-27T01:59:10.282+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "i.e. the arrow shifts the same distance in each frame", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024138216799997952", "type": "Default", "timestamp": "2022-09-27T01:59:38.453+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If we have the wrong vsync info (or use something like DateTime.now), then we will see the distance not equal at all", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024140695809826857", "type": "Default", "timestamp": "2022-09-27T02:09:29.495+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "how would the system be notified that it had changed?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024140751023648778", "type": "Default", "timestamp": "2022-09-27T02:09:42.659+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Just no notification", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024140779943362630", "type": "Default", "timestamp": "2022-09-27T02:09:49.554+00:00", "timestampEdited": "2022-09-27T02:10:24.559+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "preemptRender read it and it works well", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024140871387590716", "type": "Default", "timestamp": "2022-09-27T02:10:11.356+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Indeed there cannot be notifications - because UI thread is fully busy and PostTask to UI thread will not work at all", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024141682377236500", "type": "Reply", "timestamp": "2022-09-27T02:13:24.711+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If I understand correctly, compiler explorer says this works well with zero overhead:", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [], "reference": {"messageId": "1024132284158312509", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024141725024923688", "type": "Default", "timestamp": "2022-09-27T02:13:34.879+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024141724576137216", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024141724576137216/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 469082}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024141736479567913", "type": "Default", "timestamp": "2022-09-27T02:13:37.61+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://godbolt.org/z/bGoePGqYb", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Compiler Explorer", "url": "https://godbolt.org/z/bGoePGqYb", "timestamp": null, "description": "Compiler Explorer is an interactive online compiler which shows the assembly output of compiled C++, Rust, Go (and many more) code.", "color": "#F2F2F2", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/jGTpmeGUxpLs6alHNMw1q89lgpPm0EpuohWGxIobk-o/%3Fraw%3Dtrue/https/github.com/compiler-explorer/infra/blob/main/logo/favicon.png", "width": 145, "height": 145}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024141907414224978", "type": "Default", "timestamp": "2022-09-27T02:14:18.364+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "In the first example (with proposed Dart code), the heavyFunction is even not compiled into the binary. In the second example (just as a comparison), the heavyFunction is compiled and conditionally called.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024142009054789632", "type": "Default", "timestamp": "2022-09-27T02:14:42.597+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "In other words, my proposed Dart writing seems to be (1) zero overhead (2) easily testable.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024147790177247292", "type": "Reply", "timestamp": "2022-09-27T02:37:40.924+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "For the RenderObject.layout thing", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}], "reference": {"messageId": "1024098652064595989", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024147810423148684", "type": "Default", "timestamp": "2022-09-27T02:37:45.751+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [{"id": "1024147810066636810", "url": "https://cdn.discordapp.com/attachments/608021234516754444/1024147810066636810/unknown.png", "fileName": "unknown.png", "fileSizeBytes": 554061}], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024147823047999488", "type": "Default", "timestamp": "2022-09-27T02:37:48.761+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://godbolt.org/z/r433E75Tx", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Compiler Explorer", "url": "https://godbolt.org/z/r433E75Tx", "timestamp": null, "description": "Compiler Explorer is an interactive online compiler which shows the assembly output of compiled C++, Rust, Go (and many more) code.", "color": "#F2F2F2", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/jGTpmeGUxpLs6alHNMw1q89lgpPm0EpuohWGxIobk-o/%3Fraw%3Dtrue/https/github.com/compiler-explorer/infra/blob/main/logo/favicon.png", "width": 145, "height": 145}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024148018682937395", "type": "Default", "timestamp": "2022-09-27T02:38:35.404+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "1. I do see one extra function call (from RenderObject.layout to Renderer.layout)\n2. If that is acceptable we are done; otherwise, we may enable it conditionally via zero-overhead flag just like mentioned above, then we have exactly zero cost", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024167126942105601", "type": "Default", "timestamp": "2022-09-27T03:54:31.168+00:00", "timestampEdited": "2022-09-27T03:54:47.345+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "P.S. Two PRs about the framework change is created: https://github.com/flutter/flutter/pull/112436", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Exposing hook about tickers with zero overhead by fzyzcjy \u00b7 Pull Re...", "url": "https://github.com/flutter/flutter/pull/112436", "timestamp": null, "description": "This PR is a part for implementing the 60fps smooth rendering (#101227).\nSome discussions can be seen in Discord, such as around https://discordapp.com/channels/608014603317936148/60802123451675444...", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-1.discordapp.net/external/Rp-9eFvfMY-2klQyrixw0gISxjkPumrh8Zm2FWcrfH8/https/opengraph.githubassets.com/e2a48b4e922a9cad897814995c1affadb95c48e8309f34db88cf288568894647/flutter/flutter/pull/112436", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024167172525789276", "type": "Default", "timestamp": "2022-09-27T03:54:42.036+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "https://github.com/flutter/flutter/pull/112437", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Exposing hook for RenderObject.layout with zero overhead by fzyzcjy...", "url": "https://github.com/flutter/flutter/pull/112437", "timestamp": null, "description": "This PR is a part for implementing the 60fps smooth rendering (#101227).\nSome discussions can be seen in Discord, such as around https://discordapp.com/channels/608014603317936148/60802123451675444...", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-1.discordapp.net/external/Ea7j5j1iYXtqCONIDIXROSiJ8rkcpuKv1qL7EyVkdko/https/opengraph.githubassets.com/0d10f0e41321809d873250c2b5609979c0b0faccf3620c13b194fc5fe9948333/flutter/flutter/pull/112437", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024196289883295774", "type": "Default", "timestamp": "2022-09-27T05:50:24.155+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "... and https://github.com/flutter/engine/pull/36438", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Allow render to be called multiple times for one BeginFrame by fzyz...", "url": "https://github.com/flutter/engine/pull/36438", "timestamp": null, "description": "This PR is a part for implementing the 60fps smooth rendering (#101227).\nList which issues are fixed by this PR. You must list at least one issue.\nflutter/flutter#101227\nIf you had to change anythi...", "color": "#1E2327", "thumbnail": {"url": "https://images-ext-1.discordapp.net/external/2HPmS2_-zusGvTw7lcIIL3hW4AIbXRw6cCMCPB7BqjI/https/opengraph.githubassets.com/c969cbaac07dd57fa9c276b2b53e9aaab59bed3d2c48fa39c9af690279f84f76/flutter/engine/pull/36438", "width": 1200, "height": 600}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024316520681193533", "type": "Default", "timestamp": "2022-09-27T13:48:09.411+00:00", "timestampEdited": "2022-09-27T13:49:15.085+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "@gaaclarke I replied to all your questions now in google doc (Sorry I did not see all your questions this morning... I only see the last, and when viewing the second-last I see my reply there so wrongly think all things below have been answered)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "616684161519976450", "name": "gaaclarke", "discriminator": "9199", "nickname": "Aaron (gaaclarke)", "isBot": false}]}, {"id": "1024342539043618926", "type": "Default", "timestamp": "2022-09-27T15:31:32.672+00:00", "timestampEdited": "2022-09-27T15:31:44.6+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Any sliver expert: Is it expected to provide a custom `SliverChildDelegate` for good performance? Since with the default `SliverChildBuilderDelegate`, all the children will be rebuilt if the parent is rebuilt.", "author": {"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/180832050163482634/5133e1b862371f5d0dde18e71528b90b.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024350872362307674", "type": "Default", "timestamp": "2022-09-27T16:04:39.49+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "@Callum only the visible children, iirc, right?", "author": {"id": "169184957850189824", "name": "Hixie", "discriminator": "8080", "nickname": "Hixie", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/169184957850189824/4e836a3574784da3f1cadd36b0db92b2.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "isBot": false}]}, {"id": "1024374605038755942", "type": "Default", "timestamp": "2022-09-27T17:38:57.801+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Yeah that's true. For <reasons>, I have both pages rebuild during page pop, so the frame drop was quite noticeable. Both lists didn't need to rebuild as no change in the content, it's a good feature that was not immediately obvious.", "author": {"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/180832050163482634/5133e1b862371f5d0dde18e71528b90b.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024377142932414596", "type": "Default", "timestamp": "2022-09-27T17:49:02.882+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I'd be really surprised if there is a significant framedrop from _just_ rebuilding widgets. Do you have some sample code I could look at? I've been looking at scrolling performance issues the last couple of weeks, usually what goes wrong is folks accidentally making the entire list render (even offscreen) and that can be quite slow", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024387703472672889", "type": "Default", "timestamp": "2022-09-27T18:31:00.711+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The list items are quite complex paragraphs, during scrolling it can be okay to have 1-2ms build times. But if 24 of them build at once (12 on each page) during the page pop, it's going to drop frames.", "author": {"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/180832050163482634/5133e1b862371f5d0dde18e71528b90b.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024388172458754068", "type": "Default", "timestamp": "2022-09-27T18:32:52.526+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "what sort of device are you running on?", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024388955447230515", "type": "Default", "timestamp": "2022-09-27T18:35:59.205+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "also, if its the same paragraph, the layout should be cached in the engine", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024402830196477972", "type": "Default", "timestamp": "2022-09-27T19:31:07.203+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Just looked into it, my paragraphs aren't getting cached because of my use of WidgetSpan, unless it's the exact same Widget, the paragraph gets re-laid-out.", "author": {"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/180832050163482634/5133e1b862371f5d0dde18e71528b90b.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024405284246007818", "type": "Default", "timestamp": "2022-09-27T19:40:52.294+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "oh, well that seems like a footgun", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024405328688857160", "type": "Default", "timestamp": "2022-09-27T19:41:02.89+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "do you mind filling a bug on that? We should figure out how to make that work...", "author": {"id": "143176096404209665", "name": "Jonah Williams", "discriminator": "3187", "nickname": "Jonah Williams", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/143176096404209665/8634f391d33b3a8b7ca5def8882a3081.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024451329030103060", "type": "Default", "timestamp": "2022-09-27T22:43:50.226+00:00", "timestampEdited": "2022-09-27T22:57:30.099+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Good morning/evening friends! Three (small) PRs are created yesterday, with tests and green CI: https://github.com/flutter/flutter/pull/112436, https://github.com/flutter/flutter/pull/112437, https://github.com/flutter/engine/pull/36438. May I get a little bit review \ud83d\ude42", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024736265033224252", "type": "Reply", "timestamp": "2022-09-28T17:36:04.263+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Probably we can avoid it if we figure out the widget span has the same dimensions as last time... But If it won't or we can't figure it out the text layout may have changed.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "180832050163482634", "name": "Callum", "discriminator": "2821", "nickname": "Callum", "isBot": false}], "reference": {"messageId": "1024402830196477972", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024736708530540697", "type": "Reply", "timestamp": "2022-09-28T17:37:50.001+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Reviews typically happen once per week during triage meetings. I've looked at some of these PRs already though and there seems to be some missing context here. These changes don't seem quite safe on their own, and it's still not clear to me what's the bigger picture app that they fix. I think we've talked about having a sample application or benchmark that shows what you're improving - is that available (even if it requires some special patches to the engine or framework to run, that's ok)", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024451329030103060", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024736793758806026", "type": "Reply", "timestamp": "2022-09-28T17:38:10.321+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I'll say right now though that, in their current form and without extra support, these patches are unlikely to land anytime soon.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024451329030103060", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024819573729525821", "type": "Reply", "timestamp": "2022-09-28T23:07:06.604+00:00", "timestampEdited": "2022-09-28T23:07:52.504+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "Hi, for sample app, with video + full code + brief code + benchmark + analysis, please have a look at https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit#, the new \"Experiments\" chapter", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [{"title": "Preemption for 60 FPS (PUBLICLY SHARED)", "url": "https://docs.google.com/document/d/1FuNcBvAPghUyjeqQCOYxSt6lGDAQ1YxsNlOvrUx0Gko/edit", "timestamp": null, "description": "Use preemption to achieve 60 FPS, no matter how heavy the tree is to build/layout.", "thumbnail": {"url": "https://images-ext-2.discordapp.net/external/WfdOwm6F8iJvcVXJmMFpElDAuDcJ7F1jF7O2bKyaOwQ/https/lh4.googleusercontent.com/kIf3Yz1PCMWZmacq_NtplS5AgI0GFoAI2tMlbi5Vob9qFE3Rd1YnZ9doiRvjO-T0AW-MiUHd7VG8bOQ%3Dw1200-h630-p", "width": 1200, "height": 630}, "images": [], "fields": []}], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}], "reference": {"messageId": "1024736708530540697", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024820680866414622", "type": "Reply", "timestamp": "2022-09-28T23:11:30.566+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I will let it not be \"in their current form\" by providing extra support doc now \ud83d\ude42 Will tell you when finished (probably in a few hours)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}], "reference": {"messageId": "1024736793758806026", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024822948286185502", "type": "Default", "timestamp": "2022-09-28T23:20:31.161+00:00", "timestampEdited": "2022-09-28T23:20:45.924+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "By the way, those two PRs are the most important (i.e. package cannot exist without them), so if you are busy please ignore my other PRs currently", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024824746661122080", "type": "Default", "timestamp": "2022-09-28T23:27:39.927+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Added a couple more comments.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [{"emoji": {"id": "", "name": "\ud83d\ude00", "isAnimated": false, "imageUrl": "https://twemoji.maxcdn.com/v/latest/svg/1f600.svg"}, "count": 1}], "mentions": []}, {"id": "1024825022856056862", "type": "Reply", "timestamp": "2022-09-28T23:28:45.777+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Reply done to GitHub \"hooks\" PR: https://github.com/flutter/flutter/pull/112436#issuecomment-1261568241", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}], "reference": {"messageId": "1024824746661122080", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024825576818749460", "type": "Reply", "timestamp": "2022-09-28T23:30:57.852+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I really appreciate your enthusiasm for this topic! But I'm still not sure I understand the big picture purpose of this method. You've explained some of the specifics about why you're guarding certain things the way you are, which isn't really what's unclear to me. What's unclear to me is why we want tickers to have an artificial way to fire an extra tick.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "isBot": false}], "reference": {"messageId": "1024825022856056862", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024825915466854430", "type": "Default", "timestamp": "2022-09-28T23:32:18.592+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "This is related to the engine PR concerns - it seems like we're struggling a bit to find the right way to express the concept of vsync/animation frame. The platform gives us a very clear signal, and I would like to avoid adding methods to the engine or framework to override that.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024828646084579400", "type": "Reply", "timestamp": "2022-09-28T23:43:09.622+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "> I really appreciate your enthusiasm for this topic! \nThanks! \ud83d\ude42\n> What's unclear to me is why we want tickers to have an artificial way to fire an extra tick.\nBecause tickers originally fire once per full pipeline, in the animation phase. But now we want it to run extra ticks in the 60fps smooth extra frame. \n> it seems like we're struggling a bit to find the right way to express the concept of vsync/animation frame. \nI do respect vsync, just using a way other than \"be fired by onBeginFrame\" (because when we are busy running dart code, the callback can never be fired again). Shortly speaking, I let VsyncAwaiter set a thread-shared variable about the last vsync data. Then in maybePreemptRender, I read that data. (Briefly speaking) if it is a new vsync, I realize it is time to create Scene and submit via window.render. Thus I submit once per vsync and respect vsync well.\n> The platform gives us a very clear signal, and I would like to avoid adding methods to the engine or framework to override that.\nI would also like to make as few changes as possible, if it is possible \ud83d\ude42\nNot sure what \"clear signal\" mean, but if it means \"the vsync signal\", then hope my explanaions above solve the problem - I do respect the clear signal as well in another way", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}], "reference": {"messageId": "1024825576818749460", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024829143470321684", "type": "Default", "timestamp": "2022-09-28T23:45:08.208+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Btw, I did not add replies to https://github.com/flutter/engine/pull/36438 today since yesterday already add some and some questions seem also overlap with today.\n\nFeel free to ask if there is anything missing!", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024832182117728307", "type": "Default", "timestamp": "2022-09-28T23:57:12.678+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If we are worried that users may submit multiple window.render inside one vsync, another possibility: We may add some code in the C++ layer (or Dart layer), such that we check current vsync status, and *only* `Produce()` if it is a new vsync that has not been produced before.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024832459453513820", "type": "Default", "timestamp": "2022-09-28T23:58:18.8+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Which patch is updating a vsync ready signal for dart:ui or the framework?", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024832480634748978", "type": "Default", "timestamp": "2022-09-28T23:58:23.85+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The patches I've seen so far don't seem to do that.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024832566861234226", "type": "Default", "timestamp": "2022-09-28T23:58:44.408+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "No patch yet, because I was thinking to submit as few as possible", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024832620401528843", "type": "Default", "timestamp": "2022-09-28T23:58:57.173+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "If you like it I can submit one, but that may not be tiny", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024832894507683943", "type": "Default", "timestamp": "2022-09-29T00:00:02.525+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "Spoiler: It looks like https://github.com/fzyzcjy/engine/blob/c78138e3e79abfc771449a3a8341f7fc9211066f/shell/common/vsync_waiter.cc#L187", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024833062757998613", "type": "Default", "timestamp": "2022-09-29T00:00:42.639+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "* Set a variable (\"lastVsyncInfo\") when VsyncAwaiter callback is fired\n* Dart can read that variable", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024833534248091679", "type": "Reply", "timestamp": "2022-09-29T00:02:35.051+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "The current possibly hard part for that potential PR: in android sdk>=29 and ios, seems that the  callback of VsyncWaiter is fired on ui thread. But our Dart code is occupying the UI thread (for a long time) so that vsync callback may not be fired. For old android it does work well because it is fired in platform thread (my example is based on that)", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}], "reference": {"messageId": "1024832459453513820", "channelId": "608021234516754444", "guildId": "608014603317936148"}}, {"id": "1024833652263243817", "type": "Default", "timestamp": "2022-09-29T00:03:03.188+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "To create the PR, I may need to move new-android and ios VsyncWaiter to platform thread as well.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024835407113883708", "type": "Default", "timestamp": "2022-09-29T00:10:01.577+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I'm not suggesting you create that PR right now, but having a working patch that shows what would need to be done, with some details about why this approach is being taken would help.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024835469546106950", "type": "Default", "timestamp": "2022-09-29T00:10:16.462+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "For example, I'd expect your document to have a section on this explaining how it will work and what threading considerations are being made etc.", "author": {"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "color": "#0175C2", "isBot": false, "avatarUrl": "https://cdn.discordapp.com/embed/avatars/0.png"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024840166189309965", "type": "Default", "timestamp": "2022-09-29T00:28:56.229+00:00", "timestampEdited": null, "callEndedTimestamp": null, "isPinned": false, "content": "I see. I will add that (probably within a few hours) and come back when I am done.", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": []}, {"id": "1024852804029927537", "type": "Reply", "timestamp": "2022-09-29T01:19:09.325+00:00", "timestampEdited": "2022-09-29T01:37:50.517+00:00", "callEndedTimestamp": null, "isPinned": false, "content": "That section is now written under \"Get last vsync time information\" doc section, with psuedo-code, threading concerns etc\nI will make a runnable code if the proposal about this vsync change looks interesting", "author": {"id": "742298142774525963", "name": "fzyzcjy", "discriminator": "1693", "nickname": "fzyzcjy", "color": null, "isBot": false, "avatarUrl": "https://cdn.discordapp.com/avatars/742298142774525963/8ef0815374b5ef1e07e4af8132ffcaed.png?size=512"}, "attachments": [], "embeds": [], "stickers": [], "reactions": [], "mentions": [{"id": "612134153986768929", "name": "dnfield", "discriminator": "1305", "nickname": "dnfield", "isBot": false}], "reference": {"messageId": "1024835469546106950", "channelId": "608021234516754444", "guildId": "608014603317936148"}}], "messageCount": 650}}