{"source": "github", "metadata": {"org": "flutter", "repo": "flutter", "issue": 112040}, "content": {"author": {"login": "fzyzcjy"}, "body": "Close #112038. Please see description there.\r\n\r\n*If you had to change anything in the [flutter/tests] repo, include a link to the migration guide as per the [breaking change policy].*\r\n\r\n## Pre-launch Checklist\r\n\r\n- [x] I read the [Contributor Guide] and followed the process outlined there for submitting PRs.\r\n- [x] I read the [Tree Hygiene] wiki page, which explains my responsibilities.\r\n- [x] I read and followed the [Flutter Style Guide], including [Features we expect every widget to implement].\r\n- [x] I signed the [CLA].\r\n- [x] I listed at least one issue that this PR fixes in the description above.\r\n- [x] I updated/added relevant documentation (doc comments with `///`).\r\n- [ ] I added new tests to check the change I am making, or this PR is [test-exempt].\r\n- [ ] All existing and new tests are passing.\r\n\r\nIf you need help, consider asking for advice on the #hackers-new channel on [Discord].\r\n\r\n<!-- Links -->\r\n[Contributor Guide]: https://github.com/flutter/flutter/wiki/Tree-hygiene#overview\r\n[Tree Hygiene]: https://github.com/flutter/flutter/wiki/Tree-hygiene\r\n[test-exempt]: https://github.com/flutter/flutter/wiki/Tree-hygiene#tests\r\n[Flutter Style Guide]: https://github.com/flutter/flutter/wiki/Style-guide-for-Flutter-repo\r\n[Features we expect every widget to implement]: https://github.com/flutter/flutter/wiki/Style-guide-for-Flutter-repo#features-we-expect-every-widget-to-implement\r\n[CLA]: https://cla.developers.google.com/\r\n[flutter/tests]: https://github.com/flutter/tests\r\n[breaking change policy]: https://github.com/flutter/flutter/wiki/Tree-hygiene#handling-breaking-changes\r\n[Discord]: https://github.com/flutter/flutter/wiki/Chat\r\n", "comments": [{"id": "IC_kwDOAeUeuM5Ks55f", "author": {"login": "flutter-dashboard"}, "authorAssociation": "NONE", "body": "It looks like this pull request may not have tests. Please make sure to add tests before merging. If you need [an exemption](https://github.com/flutter/flutter/wiki/Tree-hygiene#tests) to this rule, contact Hixie on the #hackers channel in [Chat](https://github.com/flutter/flutter/wiki/Chat) (don't just cc him here, he won't see it! *He's on Discord!*).\n\nIf you are not sure if you need tests, consider this rule of thumb: the purpose of a test is to make sure someone doesn't accidentally revert the fix. Ask yourself, **is there anything in your PR that you feel it is important we not accidentally revert back to how it was before your fix?**\n\n__Reviewers__: Read the [Tree Hygiene page](https://github.com/flutter/flutter/wiki/Tree-hygiene#how-to-review-code) and make sure this patch meets those guidelines before LGTMing.", "createdAt": "2022-09-21T06:57:45Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/flutter/pull/112040#issuecomment-1253285471"}, {"id": "IC_kwDOAeUeuM5K10CD", "author": {"login": "Hixie"}, "authorAssociation": "MEMBER", "body": "would be good to have a test for this.", "createdAt": "2022-09-22T22:26:49Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/flutter/pull/112040#issuecomment-1255620739"}, {"id": "IC_kwDOAeUeuM5K11Je", "author": {"login": "jonahwilliams"}, "authorAssociation": "MEMBER", "body": "Ahh my bad, I should have asked for a test for this one", "createdAt": "2022-09-22T22:33:18Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/flutter/pull/112040#issuecomment-1255625310"}, {"id": "IC_kwDOAeUeuM5K16-G", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "@Hixie I have tried but failed, that is why this one has no tests though others have :/ It is so deep that it is hard to construct a test, without relaxing the code visibility of the widget/renderobjects.\r\n\r\n(I forget to ask for a test-preempt as well)", "createdAt": "2022-09-22T23:15:15Z", "includesCreatedEdit": true, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/flutter/pull/112040#issuecomment-1255649158"}, {"id": "IC_kwDOAeUeuM5L7i7M", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "@Hixie So shall I relax the code visibility of the widgets and render objects (i.e. change from private to public) in order to have a test? If so I will add it.", "createdAt": "2022-10-10T23:14:18Z", "includesCreatedEdit": true, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/flutter/pull/112040#issuecomment-1273900748"}, {"id": "IC_kwDOAeUeuM5MY2y3", "author": {"login": "Hixie"}, "authorAssociation": "MEMBER", "body": "Tests can actually get to the private classes, they just can't use the private class name. You can cast the render object to `dynamic` and can call things on it blindly.", "createdAt": "2022-10-17T22:40:09Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [{"content": "THUMBS_UP", "users": {"totalCount": 1}}], "url": "https://github.com/flutter/flutter/pull/112040#issuecomment-1281584311"}, {"id": "IC_kwDOAeUeuM5MY8Xz", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "@Hixie Thanks, but the problem is I cannot *construct* a `_CupertinoDialogRenderWidget` object. All its *current* usages does not cause this bug (but future usages may do), while this *is* a logical bug indeed (since by definition updateRenderObject should update the fields).", "createdAt": "2022-10-17T23:02:26Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/flutter/pull/112040#issuecomment-1281607155"}, {"id": "IC_kwDOAeUeuM5MY9KK", "author": {"login": "Hixie"}, "authorAssociation": "MEMBER", "body": "Ah, I see. Yeah, that's unfortunate. Probably fine to skip the test for now then.\r\n\r\ntest-exempt: not technically changing actual behaviour.", "createdAt": "2022-10-17T23:06:40Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [{"content": "ROCKET", "users": {"totalCount": 1}}], "url": "https://github.com/flutter/flutter/pull/112040#issuecomment-1281610378"}], "createdAt": "2022-09-21T06:57:43Z", "title": "Fix logical error in TimePickerDialog - the RenderObject forgets to update fields"}}