{"source": "github", "metadata": {"org": "flutter", "repo": "engine", "issue": 30916}, "content": {"author": {"login": "fzyzcjy"}, "body": "*Replace this paragraph with a description of what this PR is changing or adding, and why. Consider including before/after screenshots.*\r\nSee https://github.com/flutter/flutter/issues/96570\r\n\r\n*List which issues are fixed by this PR. You must list at least one issue.*\r\nFix https://github.com/flutter/flutter/issues/96570\r\n\r\n*If you had to change anything in the [flutter/tests] repo, include a link to the migration guide as per the [breaking change policy].*\r\n\r\n## Pre-launch Checklist\r\n\r\n- [x] I read the [Contributor Guide] and followed the process outlined there for submitting PRs.\r\n- [x] I read the [Tree Hygiene] wiki page, which explains my responsibilities.\r\n- [x] I read and followed the [Flutter Style Guide] and the [C++, Objective-C, Java style guides].\r\n- [x] I listed at least one issue that this PR fixes in the description above.\r\n- [x] I added new tests to check the change I am making or feature I am adding, or Hixie said the PR is test-exempt. See [testing the engine] for instructions on\r\nwriting and running engine tests.\r\n- [x] I updated/added relevant documentation (doc comments with `///`).\r\n- [x] I signed the [CLA].\r\n- [ ] All existing and new tests are passing.\r\n\r\nIf you need help, consider asking for advice on the #hackers-new channel on [Discord].\r\n\r\n<!-- Links -->\r\n[Contributor Guide]: https://github.com/flutter/flutter/wiki/Tree-hygiene#overview\r\n[Tree Hygiene]: https://github.com/flutter/flutter/wiki/Tree-hygiene\r\n[Flutter Style Guide]: https://github.com/flutter/flutter/wiki/Style-guide-for-Flutter-repo\r\n[C++, Objective-C, Java style guides]: https://github.com/flutter/engine/blob/main/CONTRIBUTING.md#style\r\n[testing the engine]: https://github.com/flutter/flutter/wiki/Testing-the-engine\r\n[CLA]: https://cla.developers.google.com/\r\n[flutter/tests]: https://github.com/flutter/tests\r\n[breaking change policy]: https://github.com/flutter/flutter/wiki/Tree-hygiene#handling-breaking-changes\r\n[Discord]: https://github.com/flutter/flutter/wiki/Chat\r\n", "comments": [{"id": "IC_kwDOAlZRSc48jiQL", "author": {"login": "flutter-dashboard"}, "authorAssociation": "NONE", "body": "This pull request was opened against a branch other than _main_. Since Flutter pull requests should not normally be opened against branches other than main, I have changed the base to main. If this was intended, you may modify the base back to master. See the [Release Process](https://github.com/flutter/flutter/wiki/Release-process) for information about how other branches get updated.\n\n__Reviewers__: Use caution before merging pull requests to branches other than main, unless this is an intentional hotfix/cherrypick.", "createdAt": "2022-01-19T00:10:50Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1015948299"}, {"id": "IC_kwDOAlZRSc48jiQZ", "author": {"login": "flutter-dashboard"}, "authorAssociation": "NONE", "body": "It looks like this pull request may not have tests. Please make sure to add tests before merging. If you need [an exemption](https://github.com/flutter/flutter/wiki/Tree-hygiene#tests) to this rule, contact Hixie on the #hackers channel in [Chat](https://github.com/flutter/flutter/wiki/Chat).\n\nIf you are not sure if you need tests, consider this rule of thumb: the purpose of a test is to make sure someone doesn't accidentally revert the fix. Ask yourself, is there anything in your PR that you feel it is important we not accidentally revert back to how it was before your fix?\n\n__Reviewers__: Read the [Tree Hygiene page](https://github.com/flutter/flutter/wiki/Tree-hygiene#how-to-review-code) and make sure this patch meets those guidelines before LGTMing.", "createdAt": "2022-01-19T00:10:52Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1015948313"}, {"id": "IC_kwDOAlZRSc48jiQi", "author": {"login": "flutter-dashboard"}, "authorAssociation": "NONE", "body": "It looks like this pull request may not have tests. Please make sure to add tests before merging. If you need [an exemption](https://github.com/flutter/flutter/wiki/Tree-hygiene#tests) to this rule, contact Hixie on the #hackers channel in [Chat](https://github.com/flutter/flutter/wiki/Chat).\n\nIf you are not sure if you need tests, consider this rule of thumb: the purpose of a test is to make sure someone doesn't accidentally revert the fix. Ask yourself, is there anything in your PR that you feel it is important we not accidentally revert back to how it was before your fix?\n\n__Reviewers__: Read the [Tree Hygiene page](https://github.com/flutter/flutter/wiki/Tree-hygiene#how-to-review-code) and make sure this patch meets those guidelines before LGTMing.", "createdAt": "2022-01-19T00:10:52Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1015948322"}, {"id": "IC_kwDOAlZRSc48jmg3", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "Well cannot understand that CI error... Have searched keyword `ListenableEditingState` but no related things. The log seems also unrelated to my code change... Could anyone plz give some hints?\r\n\r\nPossibly related @chinmaygarde @darshankawar", "createdAt": "2022-01-19T00:42:51Z", "includesCreatedEdit": true, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1015965751"}, {"id": "IC_kwDOAlZRSc48jqyg", "author": {"login": "jason-simmons"}, "authorAssociation": "MEMBER", "body": "The \"Linux Unopt\" CI error is asking for a change to the code formatting\r\n(see https://logs.chromium.org/logs/flutter/buildbucket/cr-buildbucket/8824653695614065553/+/u/test:_format_and_dart_test/stdout)\r\n\r\nThe \"build_and_test_linux_unopt_debug\" CI error is a flaky test that has been seen before (see https://github.com/flutter/flutter/issues/95751)\r\n", "createdAt": "2022-01-19T01:13:49Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1015983264"}, {"id": "IC_kwDOAlZRSc48jr_z", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "@jason-simmons thanks! done", "createdAt": "2022-01-19T01:23:05Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1015988211"}, {"id": "IC_kwDOAlZRSc48nhnr", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "You are welcome!", "createdAt": "2022-01-20T00:27:11Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1016994283"}, {"id": "IC_kwDOAlZRSc48rh5S", "author": {"login": "kobi666"}, "authorAssociation": "NONE", "body": "@chinmaygarde \r\nyo,\r\nso when can we expect this fix to reach stable?\r\n\r\nis there an HF version?", "createdAt": "2022-01-21T00:22:43Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [{"content": "THUMBS_UP", "users": {"totalCount": 1}}], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1018043986"}, {"id": "IC_kwDOAlZRSc49XRwl", "author": {"login": "FabioPaganoAPSystem"}, "authorAssociation": "NONE", "body": "In flutter version \"2.10.0-stable\" the bug seems not resolved, I've tested with my app.", "createdAt": "2022-02-03T23:58:28Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [{"content": "CONFUSED", "users": {"totalCount": 3}}], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1029512229"}, {"id": "IC_kwDOAlZRSc5Abm8I", "author": {"login": "everskies"}, "authorAssociation": "NONE", "body": "Would be great if this could be merged into stable! This is our most occurring issue at the moment", "createdAt": "2022-03-28T18:10:32Z", "includesCreatedEdit": true, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1080979208"}, {"id": "IC_kwDOAlZRSc5AcsA6", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "Given my understanding of flutter, seems that we need to wait until next stable (which is roughly 2 months later, unfortunately) if it is not in 2.10. Or, we may make a cherry-pick request", "createdAt": "2022-03-28T23:55:30Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [{"content": "THUMBS_UP", "users": {"totalCount": 1}}], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1081262138"}, {"id": "IC_kwDOAlZRSc5Dsj8r", "author": {"login": "apoleo88"}, "authorAssociation": "NONE", "body": "Still get the error with:\r\n```\r\nFlutter 2.10.4 \u2022 channel stable \r\nTools \u2022 Dart 2.16.2 \u2022 DevTools 2.9.2\r\n```\r\nSpecifically when I double-tap to select the text in a text field.", "createdAt": "2022-05-24T10:43:33Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [{"content": "EYES", "users": {"totalCount": 4}}], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1135755051"}, {"id": "IC_kwDOAlZRSc5H5hys", "author": {"login": "gonzalonm"}, "authorAssociation": "NONE", "body": "Looks like this fix has not been included in [stable channel](https://github.com/flutter/flutter/wiki/Hotfixes-to-the-Stable-Channel) yet. Does anybody know where it was included?", "createdAt": "2022-08-05T09:49:49Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1206262956"}, {"id": "IC_kwDOAlZRSc5H5oqC", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "@gonzalonm May I know where you see it not in stable? from the release date it should have been stable", "createdAt": "2022-08-05T10:23:34Z", "includesCreatedEdit": true, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1206291074"}, {"id": "IC_kwDOAlZRSc5H6W7-", "author": {"login": "gonzalonm"}, "authorAssociation": "NONE", "body": "I didn't see it in the release notes. Anyways, I could not reproduce the issue with version `3.0.0`, so in that version it has been fixed.\r\nThanks!", "createdAt": "2022-08-05T13:49:40Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1206480638"}, {"id": "IC_kwDOAlZRSc5H6XOl", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "It may be in release notes of *engine*, while flutter/flutter repo (not flutter/engine) will not say this", "createdAt": "2022-08-05T13:51:01Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/30916#issuecomment-1206481829"}], "createdAt": "2022-01-19T00:10:48Z", "title": "Fixing bug when `ListenableEditingState` is provided `initialState` with a valid composing range, `android.view.inputmethod.BaseInputConnection.setComposingRegion(int, int)` has NPE"}}