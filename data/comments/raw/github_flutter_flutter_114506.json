{"source": "github", "metadata": {"org": "flutter", "repo": "flutter", "issue": 114506}, "content": {"author": {"login": "fzyzcjy"}, "body": "When I was reading AnimatedBuilder doc (when not that familiar w/ Flutter), I wrongly have the following conclusion: Suppose I have the following, and MyWidget constructs a huge tree:\r\n\r\n```dart\r\nreturn AnimatedBuilder(\r\n  builder: () => AnimatedOpacity(child: Padding(padding: ..., child: MyWidget())),\r\n);\r\n\r\nvs\r\n\r\nreturn AnimatedBuilder(\r\n  builder: (child) => AnimatedOpacity(child: child),\r\n  child: Padding(padding: ..., child: MyWidget()),\r\n);\r\n```\r\n\r\nThen, reading the [doc](https://api.flutter.dev/flutter/widgets/AnimatedBuilder-class.html), I think this will be very little performance boost when using this `child`. It is because,\r\n\r\n> If your builder function contains a subtree that does not depend on the animation, it's more efficient to build that subtree once instead of rebuilding it on every animation tick.\r\n\r\nSo I thought: Yes, I do have a subtree (Padding + MyWidget) that does not change, and this trick can make them built once instead of many times. But it is very fast, because it just creates two objects! (Here, I understood the \"a subtree\" in the doc as the Padding+MyWidget two objects, while in reality we know it should mean the whole subtree that MyWidget and its descedent widgets build.)\r\n\r\nThus, I add a few lines to clarify this. Hope future flutter new learners do not get confused as me!\r\n\r\n## Pre-launch Checklist\r\n\r\n- [x] I read the [Contributor Guide] and followed the process outlined there for submitting PRs.\r\n- [x] I read the [Tree Hygiene] wiki page, which explains my responsibilities.\r\n- [x] I read and followed the [Flutter Style Guide], including [Features we expect every widget to implement].\r\n- [x] I signed the [CLA].\r\n- [x] I listed at least one issue that this PR fixes in the description above.\r\n- [x] I updated/added relevant documentation (doc comments with `///`).\r\n- [x] I added new tests to check the change I am making, or this PR is [test-exempt].\r\n- [ ] All existing and new tests are passing.\r\n\r\nIf you need help, consider asking for advice on the #hackers-new channel on [Discord].\r\n\r\n<!-- Links -->\r\n[Contributor Guide]: https://github.com/flutter/flutter/wiki/Tree-hygiene#overview\r\n[Tree Hygiene]: https://github.com/flutter/flutter/wiki/Tree-hygiene\r\n[test-exempt]: https://github.com/flutter/flutter/wiki/Tree-hygiene#tests\r\n[Flutter Style Guide]: https://github.com/flutter/flutter/wiki/Style-guide-for-Flutter-repo\r\n[Features we expect every widget to implement]: https://github.com/flutter/flutter/wiki/Style-guide-for-Flutter-repo#features-we-expect-every-widget-to-implement\r\n[CLA]: https://cla.developers.google.com/\r\n[flutter/tests]: https://github.com/flutter/tests\r\n[breaking change policy]: https://github.com/flutter/flutter/wiki/Tree-hygiene#handling-breaking-changes\r\n[Discord]: https://github.com/flutter/flutter/wiki/Chat\r\n", "comments": [{"id": "IC_kwDOAeUeuM5OcHxD", "author": {"login": "goderbauer"}, "authorAssociation": "MEMBER", "body": "I am going to close this as it doesn't add any new information to the doc.", "createdAt": "2022-11-15T23:12:53Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [{"content": "EYES", "users": {"totalCount": 1}}], "url": "https://github.com/flutter/flutter/pull/114506#issuecomment-1315994691"}], "createdAt": "2022-11-02T13:56:28Z", "title": "Clarify what AnimatedBuilder really speeds up when using `child`"}}