{"source": "github", "metadata": {"org": "flutter", "repo": "engine", "issue": 36985}, "content": {"author": {"login": "fzyzcjy"}, "body": "I see this assert fail when working on my own app today (unrelated to flutter_smooth; work on stable channel). With identity hashcode, we can surely know more about which layer violates.\r\n\r\n## Pre-launch Checklist\r\n\r\n- [x] I read the [Contributor Guide] and followed the process outlined there for submitting PRs.\r\n- [x] I read the [Tree Hygiene] wiki page, which explains my responsibilities.\r\n- [x] I read and followed the [Flutter Style Guide] and the [C++, Objective-C, Java style guides].\r\n- [ ] I listed at least one issue that this PR fixes in the description above.\r\n- [ ] I added new tests to check the change I am making or feature I am adding, or Hixie said the PR is test-exempt. See [testing the engine] for instructions on\r\nwriting and running engine tests.\r\n- [x] I updated/added relevant documentation (doc comments with `///`).\r\n- [\r\n- x] I signed the [CLA].\r\n- [ ] All existing and new tests are passing.\r\n\r\nIf you need help, consider asking for advice on the #hackers-new channel on [Discord].\r\n\r\n<!-- Links -->\r\n[Contributor Guide]: https://github.com/flutter/flutter/wiki/Tree-hygiene#overview\r\n[Tree Hygiene]: https://github.com/flutter/flutter/wiki/Tree-hygiene\r\n[Flutter Style Guide]: https://github.com/flutter/flutter/wiki/Style-guide-for-Flutter-repo\r\n[C++, Objective-C, Java style guides]: https://github.com/flutter/engine/blob/main/CONTRIBUTING.md#style\r\n[testing the engine]: https://github.com/flutter/flutter/wiki/Testing-the-engine\r\n[CLA]: https://cla.developers.google.com/\r\n[flutter/tests]: https://github.com/flutter/tests\r\n[breaking change policy]: https://github.com/flutter/flutter/wiki/Tree-hygiene#handling-breaking-changes\r\n[Discord]: https://github.com/flutter/flutter/wiki/Chat\r\n", "comments": [{"id": "IC_kwDOAlZRSc5M4XOi", "author": {"login": "flutter-dashboard"}, "authorAssociation": "NONE", "body": "It looks like this pull request may not have tests. Please make sure to add tests before merging. If you need [an exemption](https://github.com/flutter/flutter/wiki/Tree-hygiene#tests) to this rule, contact Hixie on the #hackers channel in [Chat](https://github.com/flutter/flutter/wiki/Chat) (don't just cc him here, he won't see it! *He's on Discord!*).\n\nIf you are not sure if you need tests, consider this rule of thumb: the purpose of a test is to make sure someone doesn't accidentally revert the fix. Ask yourself, **is there anything in your PR that you feel it is important we not accidentally revert back to how it was before your fix?**\n\n__Reviewers__: Read the [Tree Hygiene page](https://github.com/flutter/flutter/wiki/Tree-hygiene#how-to-review-code) and make sure this patch meets those guidelines before LGTMing.", "createdAt": "2022-10-25T01:05:24Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/36985#issuecomment-1289843618"}, {"id": "IC_kwDOAlZRSc5M91q1", "author": {"login": "fzyzcjy"}, "authorAssociation": "CONTRIBUTOR", "body": "The CI failure, \"infra failed\", does not look like a problem of my code indeed\r\n\r\n![image](https://user-images.githubusercontent.com/5236035/197906455-c997a800-12a0-4839-a038-d046e521006d.png)\r\n", "createdAt": "2022-10-26T00:28:15Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/36985#issuecomment-1291279029"}, {"id": "IC_kwDOAlZRSc5NIoEj", "author": {"login": "dnfield"}, "authorAssociation": "MEMBER", "body": "Also re-kicked the infra failure :)", "createdAt": "2022-10-27T21:44:56Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/36985#issuecomment-1294106915"}, {"id": "IC_kwDOAlZRSc5NIpGA", "author": {"login": "Hixie"}, "authorAssociation": "MEMBER", "body": "This would ideally be tested on the framework side, to make sure the output matches what we expect from other messages (we have a special matcher that knows how to normalize this kind of hash code).\r\n\r\nThat can't be in this PR, though.\r\n\r\ntest-exempt: test needs to be in another repo", "createdAt": "2022-10-27T21:47:18Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [{"content": "EYES", "users": {"totalCount": 1}}], "url": "https://github.com/flutter/engine/pull/36985#issuecomment-1294111104"}, {"id": "IC_kwDOAlZRSc5NIr8G", "author": {"login": "auto-submit"}, "authorAssociation": "NONE", "body": "auto label is removed for flutter/engine, pr: 36985, due to - Please get at least one approved review if you are already a member or two member reviews if you are not a member before re-applying this label. __Reviewers__: If you left a comment approving, please use the \"approve\" review action instead.", "createdAt": "2022-10-27T21:53:44Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/36985#issuecomment-1294122758"}, {"id": "IC_kwDOAlZRSc5NIr8g", "author": {"login": "auto-submit"}, "authorAssociation": "NONE", "body": "auto label is removed for flutter/engine, pr: 36985, due to Validations Fail.", "createdAt": "2022-10-27T21:53:44Z", "includesCreatedEdit": false, "isMinimized": false, "minimizedReason": "", "reactionGroups": [], "url": "https://github.com/flutter/engine/pull/36985#issuecomment-1294122784"}], "createdAt": "2022-10-25T01:05:22Z", "title": "Let `_debugCheckNotUsedAsOldLayer` provide hashcode in addition to runtime type"}}